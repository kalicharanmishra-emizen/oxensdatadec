{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/domains/oxens.ezxdemo.com/public_html/admin/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/domains/oxens.ezxdemo.com/public_html/admin/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { callApi } from '../Helper/helper';\nimport { apiFail, apiSuccess } from 'reducers/mainSlice';\nvar authSlice = createSlice({\n  name: 'users',\n  initialState: {\n    loggedInUser: {\n      statusCode: \"\",\n      message: \"\",\n      data: {\n        _id: \"\",\n        name: \"\",\n        email: \"\",\n        phone_no: \"\",\n        pro_image: \"\",\n        role: []\n      }\n    }\n  },\n  reducers: {\n    loginSuccess: function loginSuccess(state, action) {\n      console.log('action', action);\n      localStorage.setItem('auth-token', action.payload.data.token);\n      delete action.payload.data.token;\n      state.loggedInUser = action.payload;\n    },\n    authProfile: function authProfile(state, action) {\n      state.loggedInUser = action.payload;\n    },\n    logoutSuccess: function logoutSuccess(state, action) {\n      state.loggedInUser = {\n        statusCode: \"\",\n        message: \"\",\n        data: {\n          _id: \"\",\n          name: \"\",\n          email: \"\",\n          phone_no: \"\",\n          pro_image: \"\",\n          role: []\n        }\n      };\n      localStorage.removeItem('auth-token');\n    }\n  }\n});\nvar _authSlice$actions = authSlice.actions,\n    loginSuccess = _authSlice$actions.loginSuccess,\n    logoutSuccess = _authSlice$actions.logoutSuccess,\n    authProfile = _authSlice$actions.authProfile;\nexport default authSlice.reducer;\nexport var login = function login(values) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return callApi('post', '/auth/login', values);\n\n            case 3:\n              res = _context.sent;\n              dispatch(loginSuccess(res.data));\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch(apiFail(_context.t0));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var logout = function logout() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch(logoutSuccess());\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var getProfile = function getProfile() {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return callApi('post', '/auth/profile', {});\n\n            case 3:\n              res = _context3.sent;\n              dispatch(authProfile(res.data));\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              dispatch(apiFail(_context3.t0));\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var updateProfile = function updateProfile(values) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return callApi('post', '/auth/update', values, {\n                'Content-Type': 'multipart/form-data'\n              });\n\n            case 3:\n              res = _context4.sent;\n              dispatch(authProfile(res.data));\n              dispatch(apiSuccess(res.data));\n              _context4.next = 11;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              dispatch(apiFail(_context4.t0));\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var updatePassword = function updatePassword(values) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return callApi('post', '/auth/updatePassword', values);\n\n            case 3:\n              res = _context5.sent;\n              dispatch(apiSuccess(res.data));\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              dispatch(apiFail(_context5.t0));\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var forgetPassword = function forgetPassword(value) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return callApi('post', '/auth/forgetpassword', value);\n\n            case 3:\n              res = _context6.sent;\n              dispatch(apiSuccess(res.data));\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              dispatch(apiFail(_context6.t0));\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var resetPassword = function resetPassword(value) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return callApi('post', '/auth/resetpassword', value);\n\n            case 3:\n              res = _context7.sent;\n              dispatch(apiSuccess(res.data));\n              _context7.next = 10;\n              break;\n\n            case 7:\n              _context7.prev = 7;\n              _context7.t0 = _context7[\"catch\"](0);\n              dispatch(apiFail(_context7.t0));\n\n            case 10:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 7]]);\n    }));\n\n    return function (_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n}; // {type : \"posts/createPost\", payload : {id : 123, title : \"Hello World\"}}","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/admin/reducers/authSlice.js"],"names":["createSlice","callApi","apiFail","apiSuccess","authSlice","name","initialState","loggedInUser","statusCode","message","data","_id","email","phone_no","pro_image","role","reducers","loginSuccess","state","action","console","log","localStorage","setItem","payload","token","authProfile","logoutSuccess","removeItem","actions","reducer","login","values","dispatch","res","logout","getProfile","updateProfile","updatePassword","forgetPassword","value","resetPassword"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport {callApi} from '../Helper/helper'\nimport { apiFail,apiSuccess } from 'reducers/mainSlice'\nconst authSlice = createSlice({\n    name: 'users',\n    initialState: {\n        loggedInUser : {\n            statusCode: \"\",\n            message: \"\",\n            data: {\n                _id: \"\",\n                name: \"\",\n                email: \"\",\n                phone_no: \"\",\n                pro_image: \"\",\n                role: []\n            }\n        },\n    },\n    reducers: {\n        loginSuccess : (state,action)=>{\n            console.log('action',action)\n            localStorage.setItem('auth-token',action.payload.data.token)\n            delete action.payload.data.token\n            state.loggedInUser = action.payload\n        },\n        authProfile:(state,action)=>{\n            state.loggedInUser = action.payload\n        },\n        logoutSuccess:(state,action)=>{\n            state.loggedInUser={\n                    statusCode: \"\",\n                    message: \"\",\n                    data: {\n                        _id: \"\",\n                        name: \"\",\n                        email: \"\",\n                        phone_no: \"\",\n                        pro_image: \"\",\n                        role: []\n                    }\n                }\n            localStorage.removeItem('auth-token')\n        },\n    },\n  })\n  \nconst { loginSuccess,logoutSuccess,authProfile} = authSlice.actions\nexport default authSlice.reducer\n  \nexport const login = (values) => async dispatch => {\n    try {\n        const res = await callApi('post','/auth/login',values)\n        dispatch(loginSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const logout= () => async dispatch =>{\n    dispatch(logoutSuccess());\n}\nexport const getProfile = () => async dispatch =>{\n    try {\n        const res = await callApi('post','/auth/profile',{});\n        dispatch(authProfile(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const updateProfile=(values)=>async dispatch =>{\n    try {\n        const res = await callApi('post','/auth/update',values,{'Content-Type': 'multipart/form-data'})\n        dispatch(authProfile(res.data))   \n        dispatch(apiSuccess(res.data));\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n    \n}\nexport const updatePassword=(values)=>async dispatch=>{\n    try {\n        const res = await callApi('post','/auth/updatePassword',values);\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const forgetPassword = (value) => async dispatch => {\n    try {\n        let res = await callApi('post','/auth/forgetpassword',value)\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const resetPassword = (value) => async dispatch => {\n    try {\n        let res = await callApi('post','/auth/resetpassword',value)\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\n  // {type : \"posts/createPost\", payload : {id : 123, title : \"Hello World\"}}"]},"metadata":{},"sourceType":"module"}