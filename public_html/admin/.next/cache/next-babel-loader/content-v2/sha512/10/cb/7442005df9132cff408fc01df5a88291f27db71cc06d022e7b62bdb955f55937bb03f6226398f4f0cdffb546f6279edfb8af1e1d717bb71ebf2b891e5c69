{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { callApi } from '../Helper/helper';\nimport { apiFail, apiSuccess } from 'reducers/mainSlice';\nconst authSlice = createSlice({\n  name: 'users',\n  initialState: {\n    loggedInUser: {\n      statusCode: \"\",\n      message: \"\",\n      data: {\n        _id: \"\",\n        name: \"\",\n        email: \"\",\n        phone_no: \"\",\n        pro_image: \"\",\n        role: []\n      }\n    }\n  },\n  reducers: {\n    loginSuccess: (state, action) => {\n      console.log('action', action);\n      localStorage.setItem('auth-token', action.payload.data.token);\n      delete action.payload.data.token;\n      state.loggedInUser = action.payload;\n    },\n    authProfile: (state, action) => {\n      state.loggedInUser = action.payload;\n    },\n    logoutSuccess: (state, action) => {\n      state.loggedInUser = {\n        statusCode: \"\",\n        message: \"\",\n        data: {\n          _id: \"\",\n          name: \"\",\n          email: \"\",\n          phone_no: \"\",\n          pro_image: \"\",\n          role: []\n        }\n      };\n      localStorage.removeItem('auth-token');\n    }\n  }\n});\nconst {\n  loginSuccess,\n  logoutSuccess,\n  authProfile\n} = authSlice.actions;\nexport default authSlice.reducer;\nexport const login = values => async dispatch => {\n  try {\n    const res = await callApi('post', '/auth/login', values);\n    dispatch(loginSuccess(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const logout = () => async dispatch => {\n  dispatch(logoutSuccess());\n};\nexport const getProfile = () => async dispatch => {\n  try {\n    const res = await callApi('post', '/auth/profile', {});\n    dispatch(authProfile(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const updateProfile = values => async dispatch => {\n  try {\n    const res = await callApi('post', '/auth/update', values, {\n      'Content-Type': 'multipart/form-data'\n    });\n    dispatch(authProfile(res.data));\n    dispatch(apiSuccess(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const updatePassword = values => async dispatch => {\n  try {\n    const res = await callApi('post', '/auth/updatePassword', values);\n    dispatch(apiSuccess(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const forgetPassword = value => async dispatch => {\n  try {\n    let res = await callApi('post', '/auth/forgetpassword', value);\n    dispatch(apiSuccess(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const resetPassword = value => async dispatch => {\n  try {\n    let res = await callApi('post', '/auth/resetpassword', value);\n    dispatch(apiSuccess(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n}; // {type : \"posts/createPost\", payload : {id : 123, title : \"Hello World\"}}","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/admin/reducers/authSlice.js"],"names":["createSlice","callApi","apiFail","apiSuccess","authSlice","name","initialState","loggedInUser","statusCode","message","data","_id","email","phone_no","pro_image","role","reducers","loginSuccess","state","action","console","log","localStorage","setItem","payload","token","authProfile","logoutSuccess","removeItem","actions","reducer","login","values","dispatch","res","e","logout","getProfile","updateProfile","updatePassword","forgetPassword","value","resetPassword"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport {callApi} from '../Helper/helper'\nimport { apiFail,apiSuccess } from 'reducers/mainSlice'\nconst authSlice = createSlice({\n    name: 'users',\n    initialState: {\n        loggedInUser : {\n            statusCode: \"\",\n            message: \"\",\n            data: {\n                _id: \"\",\n                name: \"\",\n                email: \"\",\n                phone_no: \"\",\n                pro_image: \"\",\n                role: []\n            }\n        },\n    },\n    reducers: {\n        loginSuccess : (state,action)=>{\n            console.log('action',action)\n            localStorage.setItem('auth-token',action.payload.data.token)\n            delete action.payload.data.token\n            state.loggedInUser = action.payload\n        },\n        authProfile:(state,action)=>{\n            state.loggedInUser = action.payload\n        },\n        logoutSuccess:(state,action)=>{\n            state.loggedInUser={\n                    statusCode: \"\",\n                    message: \"\",\n                    data: {\n                        _id: \"\",\n                        name: \"\",\n                        email: \"\",\n                        phone_no: \"\",\n                        pro_image: \"\",\n                        role: []\n                    }\n                }\n            localStorage.removeItem('auth-token')\n        },\n    },\n  })\n  \nconst { loginSuccess,logoutSuccess,authProfile} = authSlice.actions\nexport default authSlice.reducer\n  \nexport const login = (values) => async dispatch => {\n    try {\n        const res = await callApi('post','/auth/login',values)\n        dispatch(loginSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const logout= () => async dispatch =>{\n    dispatch(logoutSuccess());\n}\nexport const getProfile = () => async dispatch =>{\n    try {\n        const res = await callApi('post','/auth/profile',{});\n        dispatch(authProfile(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const updateProfile=(values)=>async dispatch =>{\n    try {\n        const res = await callApi('post','/auth/update',values,{'Content-Type': 'multipart/form-data'})\n        dispatch(authProfile(res.data))   \n        dispatch(apiSuccess(res.data));\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n    \n}\nexport const updatePassword=(values)=>async dispatch=>{\n    try {\n        const res = await callApi('post','/auth/updatePassword',values);\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const forgetPassword = (value) => async dispatch => {\n    try {\n        let res = await callApi('post','/auth/forgetpassword',value)\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\nexport const resetPassword = (value) => async dispatch => {\n    try {\n        let res = await callApi('post','/auth/resetpassword',value)\n        dispatch(apiSuccess(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    }\n}\n  // {type : \"posts/createPost\", payload : {id : 123, title : \"Hello World\"}}"]},"metadata":{},"sourceType":"module"}