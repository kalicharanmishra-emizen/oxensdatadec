{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { callApi } from '../Helper/helper';\nimport { apiFail, apiSuccess } from 'reducers/mainSlice';\nconst cmsSlice = createSlice({\n  name: \"Cms\",\n  initialState: {\n    list: {\n      isLoading: true,\n      data: []\n    },\n    detail: {\n      title: \"\",\n      slug: \"\",\n      content: \"\"\n    },\n    dashboardList: {\n      isLoading: true,\n      data: []\n    }\n  },\n  reducers: {\n    listing: (state, action) => {\n      state.list = {\n        isLoading: false,\n        data: action.payload.data\n      };\n    },\n    setDetail: (state, action) => {\n      state.detail = action.payload.data;\n    },\n    unSetDetail: (state, action) => {\n      state.detail = null;\n    },\n    dashboard: (state, action) => {\n      state.dashboardList = {\n        isLoading: false,\n        data: action.payload.data\n      };\n    }\n  }\n});\nexport default cmsSlice.reducer;\nconst {\n  listing,\n  setDetail,\n  unSetDetail,\n  dashboard\n} = cmsSlice.actions;\nexport const getList = () => async dispatch => {\n  try {\n    const res = await callApi('post', '/cms/list', {});\n    dispatch(listing(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const getDetail = value => async dispatch => {\n  try {\n    const res = await callApi('post', '/cms/detail', value);\n    dispatch(setDetail(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const resetDetail = () => async dispatch => {\n  dispatch(unSetDetail());\n};\nexport const updateCms = value => async dispatch => {\n  try {\n    let res = await callApi('post', '/cms/update', value);\n    dispatch(apiSuccess(res.data));\n  } catch (error) {\n    dispatch(apiFail(error));\n  }\n};\nexport const getDashboardData = () => async dispatch => {\n  try {\n    const res = await callApi(\"post\", \"/cms/dashboard\", {});\n    console.log(\"response api dashboard\", res.data);\n    dispatch(dashboard(res.data));\n  } catch (error) {\n    console.log(\"dashboard api error\", error);\n    dispatch(apiFail(error));\n  }\n};","map":null,"metadata":{},"sourceType":"module"}