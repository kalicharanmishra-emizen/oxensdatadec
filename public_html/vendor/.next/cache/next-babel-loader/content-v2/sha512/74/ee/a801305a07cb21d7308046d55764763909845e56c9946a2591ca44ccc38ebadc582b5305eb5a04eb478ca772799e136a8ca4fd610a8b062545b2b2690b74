{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { debounce } from \"lodash\";\nimport \"../../styles/store-detail.css\";\nimport POSuser from \"../Model/POSuser\";\nimport { Input } from \"reactstrap\";\nimport { getPOSusers } from \"../../reducers/mainSlice\";\n\nvar posUserComponent = function posUserComponent(props) {\n  var _storeDetail$data;\n\n  var dispatch = useDispatch();\n  var POSusers = useSelector(function (state) {\n    return state.mainSlice.POSuser;\n  });\n  var storeDetail = useSelector(function (state) {\n    return state.storeSlice.storeDetail;\n  });\n\n  var _useState = useState(true),\n      inputBox = _useState[0],\n      setInputBox = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      searchUser = _useState2[0],\n      setSearchUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      suggestionModel = _useState3[0],\n      setSuggestionModel = _useState3[1];\n\n  var _useState4 = useState(null),\n      selectUser = _useState4[0],\n      setSelectUser = _useState4[1];\n\n  var _useState5 = useState(false),\n      userFormModal = _useState5[0],\n      setUserFormModal = _useState5[1];\n\n  var userFormToggle = function userFormToggle() {\n    setUserFormModal(!userFormModal);\n  };\n\n  var handelStatus = function handelStatus() {\n    setInputBox(false);\n    setSuggestionModel(false);\n  };\n\n  var getTempUser = function getTempUser(data) {\n    setSelectUser(data);\n    setInputBox(false);\n    setSuggestionModel(false);\n  };\n\n  var clearAllStates = function clearAllStates() {\n    setSelectUser(null);\n    setInputBox(true);\n    setSearchUser(\"\");\n  };\n\n  var debounceLoad = useCallback(debounce(function (value) {\n    if (value != \"\" && value.length > 2) {\n      dispatch(getPOSusers({\n        text: value\n      }));\n      setSuggestionModel(true); // autoComplete.getQueryPredictions({ input: value }, displaySuggestions);\n    } else if (value == \"\") {\n      setSuggestionModel(false);\n      dispatch(getPOSusers({\n        text: value\n      }));\n    }\n  }, 700), []);\n  useEffect(function () {\n    if (props.isReset) {\n      clearAllStates();\n      props.handelisReset(false);\n    }\n\n    props.handelPOSUser(selectUser);\n  }, [selectUser, props.isReset]);\n  console.log(\"is selectUser\", selectUser);\n  return /*#__PURE__*/_jsxs(\"section\", {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      children: inputBox ? /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Input, {\n          type: \"text\",\n          className: \"search\",\n          value: searchUser,\n          placeholder: \"Please Enter Mobile No\",\n          onChange: function onChange(e) {\n            setSearchUser(e.target.value);\n            debounceLoad(e.target.value);\n          }\n        }), searchUser ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"bg-close\",\n          onClick: function onClick() {\n            setSearchUser(\"\");\n            setSuggestionModel(false);\n          }\n        }) : \"\"]\n      }) : /*#__PURE__*/_jsxs(\"div\", {\n        className: \"selecetdInputBox\",\n        children: [selectUser === null || selectUser === void 0 ? void 0 : selectUser.value, /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            marginTop: \"0px\"\n          },\n          className: \"bg-close\",\n          onClick: function onClick() {\n            setInputBox(true);\n            setSearchUser(\"\");\n            setSelectUser(null);\n          }\n        })]\n      })\n    }), suggestionModel ? /*#__PURE__*/_jsx(\"div\", {\n      className: \"suggestions\",\n      children: /*#__PURE__*/_jsx(\"ul\", {\n        children: POSusers.length > 0 ? POSusers.map(function (item) {\n          return /*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                textTransform: \"capitalize\"\n              },\n              onClick: function onClick() {\n                handelStatus();\n                setSelectUser({\n                  key: item._id,\n                  value: \"\".concat(item.name, \" (\").concat(item.phoneNo, \")\"),\n                  phoneno: item.phoneNo\n                });\n              },\n              children: \"\".concat(item.name, \" (\").concat(item.phoneNo, \")\")\n            })\n          }, item._id);\n        }) : /*#__PURE__*/_jsx(\"li\", {\n          className: \"createUserBtn_0\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            onClick: function onClick() {\n              return setUserFormModal(!userFormModal);\n            },\n            children: \"create user\"\n          })\n        })\n      })\n    }) : \"\", /*#__PURE__*/_jsx(POSuser, {\n      isOpen: userFormModal,\n      toggle: userFormToggle,\n      itemId: searchUser,\n      storeId: storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data = storeDetail.data) === null || _storeDetail$data === void 0 ? void 0 : _storeDetail$data._id,\n      getTempUser: getTempUser\n    })]\n  });\n};\n\nexport default posUserComponent;","map":null,"metadata":{},"sourceType":"module"}