{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { callApi } from '../Helper/helper';\nimport { apiFail, apiSuccess } from 'reducers/mainSlice';\nconst discountSlice = createSlice({\n  name: \"Discount\",\n  initialState: {\n    list: {\n      discountType: 0,\n      discountValue: 0,\n      maxDiscount: 0\n    }\n  },\n  reducers: {\n    listing: (state, action) => {\n      state.list = {\n        discountType: action.payload.data.discountType || 0,\n        discountValue: action.payload.data.discountValue || 0,\n        maxDiscount: action.payload.data.maxDiscount || 0\n      };\n    }\n  }\n});\nexport default discountSlice.reducer;\nconst {\n  listing\n} = discountSlice.actions;\nexport const getDiscount = page => async dispatch => {\n  try {\n    const res = await callApi('post', `/discount/detail`, {});\n    dispatch(listing(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};\nexport const updateDiscount = value => async dispatch => {\n  try {\n    const res = await callApi('post', '/discount/update', value);\n    dispatch(apiSuccess(res.data));\n    dispatch(listing(res.data));\n  } catch (e) {\n    dispatch(apiFail(e));\n  }\n};","map":null,"metadata":{},"sourceType":"module"}