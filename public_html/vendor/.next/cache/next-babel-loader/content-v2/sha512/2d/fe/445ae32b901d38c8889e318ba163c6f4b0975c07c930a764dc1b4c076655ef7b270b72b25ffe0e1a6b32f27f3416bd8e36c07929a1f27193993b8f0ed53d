{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/components/Model/Cart.js\",\n    _s = $RefreshSig$();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport styles from '../../styles/cart.module.css';\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Link from 'next/link';\nimport QuantityBtn from '../quantityBtn';\nimport _ from \"lodash\";\nimport { manageCartData } from '../../reducers/mainSlice';\nimport { useDispatch } from 'react-redux';\nimport \"../../styles/cartModel.css\";\nexport default function Cart(props) {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState({}),\n      variant = _useState[0],\n      setVariant = _useState[1];\n\n  var _useState2 = useState(null),\n      item = _useState2[0],\n      setItem = _useState2[1];\n\n  var _useState3 = useState(0.00),\n      itemPrice = _useState3[0],\n      setItemPrice = _useState3[1];\n\n  var _useState4 = useState(1),\n      quantity = _useState4[0],\n      setQuantity = _useState4[1];\n\n  var _useState5 = useState({}),\n      tempChildData = _useState5[0],\n      setTempChildData = _useState5[1];\n\n  var getQuantity = function getQuantity(data) {\n    setQuantity(data);\n  };\n\n  var resetChildDep = function resetChildDep(data) {\n    // console.log('data',data);\n    var tempChild = {};\n\n    if (Object.keys(data).length != 0) {\n      Object.keys(data).map(function (childDep) {\n        var selectedInput = document.querySelector(\"input[name=\\\"\".concat(childDep, \"\\\"]:checked\"));\n        var selValue = selectedInput ? selectedInput.value : '';\n        data[childDep].childCus.map(function (tempCus) {\n          var childCus = props.item.customize.filter(function (dataCus) {\n            return dataCus.dependent_with == tempCus._id;\n          });\n\n          if (childCus.length != 0) {\n            tempChild[tempCus._id] = {\n              childCus: childCus,\n              data: data\n            };\n          }\n\n          var varListRow = [];\n          tempCus.variants.map(function (varList) {\n            var price = varList.dependent_price.find(function (raw) {\n              return raw.varientId == selValue;\n            });\n\n            if (price !== undefined) {\n              varListRow.push({\n                _id: varList._id,\n                title: varList.title,\n                price: price,\n                isDefault: varList.isDefault\n              });\n            }\n          });\n          variant[childDep][tempCus._id] = varListRow;\n        });\n      });\n      setVariant(_objectSpread({}, variant));\n      setTempChildData(tempChild);\n    }\n  };\n\n  var handelChange = function handelChange(e) {\n    var cusId = e.currentTarget.name;\n    var type = e.currentTarget.type;\n    var tempChild = {};\n\n    if (type == 'radio') {\n      var depCus = props.item.customize.filter(function (dataCus) {\n        return dataCus.dependent_with == cusId;\n      });\n\n      if (depCus.length != 0) {\n        depCus.map(function (data) {\n          var childCus = props.item.customize.filter(function (dataCus) {\n            return dataCus.dependent_with == data._id;\n          });\n\n          if (childCus.length != 0) {\n            // console.log(data.title,' childCus',childCus);\n            tempChild[data._id] = {\n              childCus: childCus,\n              data: data\n            };\n          }\n\n          var varListRow = [];\n          data.variants.map(function (varList) {\n            var price = varList.dependent_price.find(function (raw) {\n              return raw.varientId == e.currentTarget.value;\n            });\n\n            if (price !== undefined) {\n              varListRow.push({\n                _id: varList._id,\n                title: varList.title,\n                price: price,\n                isDefault: varList.isDefault\n              });\n            }\n          });\n          variant[cusId][data._id] = varListRow;\n        });\n        setVariant(_objectSpread({}, variant));\n        setTempChildData(tempChild);\n      }\n    }\n\n    calculatePrice();\n  };\n\n  var calculatePrice = function calculatePrice() {\n    var tempPrice = Number(item.price);\n    console.log(\"item price\", tempPrice);\n    item.customize.map(function (data) {\n      var inputs = document.querySelectorAll(\"input[name=\\\"\".concat(data._id, \"\\\"]\"));\n\n      var _iterator = _createForOfIteratorHelper(inputs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var input = _step.value;\n\n          if (input.checked) {\n            tempPrice += Number(input.getAttribute('price'));\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }); // console.log('tempPrice',tempPrice);\n\n    setItemPrice(tempPrice * quantity);\n  };\n\n  var addItemToCart = function addItemToCart() {\n    var cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : {\n      orderItems: {},\n      storeId: props.storeId,\n      totalQuantity: 0,\n      totalAmount: 0.00,\n      orderType: 0\n    };\n    var latestGroup = cart.orderItems[item._id] ? cart.orderItems[item._id].latestGroup : [];\n    var selectedGroup = cart.orderItems[item._id] ? cart.orderItems[item._id].selectedGroup : {};\n    /* find all checked input and group tham start*/\n\n    var checkedInputs = {};\n    item.customize.map(function (data) {\n      var groupCheckInput = [];\n      var inputs = document.querySelectorAll(\"input[name=\\\"\".concat(data._id, \"\\\"]\"));\n\n      var _iterator2 = _createForOfIteratorHelper(inputs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var input = _step2.value;\n          if (input.checked) groupCheckInput.push(input);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      checkedInputs[data._id] = groupCheckInput;\n    });\n    /* find all checked input and group tham End*/\n\n    /* Find and create a selected group start */\n\n    var selectedGroupRaw = [];\n    var groupKey = item._id + \"_\";\n    Object.keys(checkedInputs).map(function (inputs) {\n      groupKey += inputs.slice(inputs.length - 6);\n      var selectedCustom = item.customize.find(function (cus) {\n        return cus._id == inputs;\n      });\n      var varListRow = [];\n      checkedInputs[inputs].map(function (input) {\n        var tempVar = selectedCustom.variants.find(function (list) {\n          return list._id == input.value;\n        });\n        groupKey += '_' + tempVar._id.slice(tempVar._id.length - 6);\n        varListRow.push({\n          _id: tempVar._id,\n          title: tempVar.title,\n          price: input.getAttribute('price')\n        });\n      });\n\n      if (varListRow.length != 0) {\n        selectedGroupRaw.push({\n          _id: selectedCustom._id,\n          title: selectedCustom.title,\n          is_multiple: selectedCustom.is_multiple,\n          variants: varListRow\n        });\n      }\n    });\n    selectedGroup[groupKey] = {\n      group: selectedGroupRaw,\n      quantity: selectedGroup[groupKey] ? selectedGroup[groupKey].quantity + quantity : quantity,\n      price: selectedGroup[groupKey] ? selectedGroup[groupKey].price + itemPrice : itemPrice\n    };\n    latestGroup = selectedGroupRaw;\n    /* Find and create a selected group end */\n\n    /* set cart data to a spacific format start*/\n\n    cart.orderItems[item._id] = {\n      menuitem: item,\n      selectedGroup: selectedGroup,\n      latestGroup: latestGroup,\n      itemQuantity: cart.orderItems[item._id] ? cart.orderItems[item._id].itemQuantity + quantity : quantity,\n      itemPrice: cart.orderItems[item._id] ? cart.orderItems[item._id].itemPrice + itemPrice : itemPrice\n    };\n\n    if (!cart.storeId) {\n      cart.storeId = props.storeId;\n    }\n\n    cart.totalQuantity += quantity;\n    cart.totalAmount += itemPrice;\n    localStorage.setItem('cart', JSON.stringify(cart));\n    dispatch(manageCartData());\n    props.toggle();\n    /* set cart data to a spacific format end*/\n  };\n\n  useEffect(function () {\n    if (props.item) {\n      setTempChildData({});\n      var depCustom = props.item.customize.filter(function (list) {\n        return list.is_dependent;\n      });\n      var depVarObj = {};\n      depCustom.map(function (data) {\n        var dWithId = data['dependent_with'];\n        var varListRow = [];\n        var dependentCustome = props.item.customize.find(function (dataCus) {\n          return dataCus._id == data.dependent_with;\n        });\n        var defaultSelectedVarID = dependentCustome.variants.find(function (defVar) {\n          return defVar.isDefault == true;\n        });\n\n        if (defaultSelectedVarID !== undefined) {\n          data.variants.map(function (varList) {\n            var price = varList.dependent_price.find(function (raw) {\n              return raw.varientId == defaultSelectedVarID._id;\n            });\n\n            if (price !== undefined) {\n              varListRow.push({\n                _id: varList._id,\n                title: varList.title,\n                price: price,\n                isDefault: varList.isDefault\n              });\n            }\n          });\n        }\n\n        if (!variant.hasOwnProperty(dWithId)) {\n          depVarObj = {};\n          depVarObj[data['_id']] = varListRow;\n        } else {\n          depVarObj = variant[dWithId];\n          depVarObj[data['_id']] = varListRow;\n        }\n\n        variant[dWithId] = depVarObj;\n      });\n      setVariant(_objectSpread({}, variant));\n    }\n\n    setItem(props.item);\n  }, [props.item]);\n  useEffect(function () {\n    if (item) {\n      calculatePrice(); // console.log('tempChildData',tempChildData);\n\n      if (Object.keys(tempChildData).length != 0) resetChildDep(tempChildData);\n    }\n  }, [variant, quantity]);\n  console.log(\"item\", item);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: props.isOpen,\n      className: \"\".concat(styles.ModalCustom, \" modal-dialog-scrollable\"),\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        className: \"modelHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modelHeaderTitle\",\n          children: item ? item.title : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-close\",\n          onClick: props.toggle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        className: \"modelBody\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"3\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"itemImageBox\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item && (item === null || item === void 0 ? void 0 : item.image),\n                className: \"itemImage\",\n                alt: \"Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"9\",\n            className: \"itemDetails p-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"itemPrice\",\n              children: [\"\\xA3\", item ? Number(item === null || item === void 0 ? void 0 : item.price) : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"itemDescription\",\n              children: item ? item === null || item === void 0 ? void 0 : item.description : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"12\",\n            className: \"allItemsBody\",\n            children: item && item.customize ? item.customize.map(function (cusList) {\n              return cusList.is_dependent ? Object.keys(variant).length != 0 && variant[cusList.dependent_with][cusList._id].length != 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                id: cusList._id,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"\".concat(styles.titleOptional, \" modelItemTitle \"),\n                  children: cusList.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 53\n                }, _this), /*#__PURE__*/_jsxDEV(Form, {\n                  id: \"var_\".concat(cusList._id),\n                  className: \"cat\",\n                  children: variant[cusList.dependent_with][cusList._id].map(function (varList) {\n                    return /*#__PURE__*/_jsxDEV(FormGroup, {\n                      style: {\n                        marginBottom: \"0\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Label, {\n                        children: [/*#__PURE__*/_jsxDEV(Input, {\n                          name: cusList._id,\n                          value: varList._id,\n                          price: varList.price.price,\n                          type: cusList.is_multiple ? \"checkbox\" : \"radio\",\n                          className: \"\".concat(styles.checkInput),\n                          onChange: handelChange,\n                          defaultChecked: varList.isDefault ? true : false\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 69\n                        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"\".concat(cusList.is_multiple ? styles.checkmark : styles.radio)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 275,\n                            columnNumber: 73\n                          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"\".concat(styles.checktext),\n                            style: {\n                              margin: \"0\",\n                              fontWeight: \"700\"\n                            },\n                            children: [varList.title, \" \\xA3\", varList.price.price]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 276,\n                            columnNumber: 73\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 274,\n                          columnNumber: 69\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 65\n                      }, _this)\n                    }, varList._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 61\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 53\n                }, _this)]\n              }, cusList._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 49\n              }, _this) : '' : cusList.variants && cusList.variants.length != 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                id: cusList._id,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"\".concat(styles.titleOptional, \" modelItemTitle\"),\n                  children: cusList.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 49\n                }, _this), /*#__PURE__*/_jsxDEV(Form, {\n                  id: \"var_\".concat(cusList._id),\n                  className: \"cat\",\n                  children: cusList.variants.map(function (varList) {\n                    return /*#__PURE__*/_jsxDEV(FormGroup, {\n                      style: {\n                        marginBottom: \"0\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Label, {\n                        children: [/*#__PURE__*/_jsxDEV(Input, {\n                          name: cusList._id,\n                          value: varList._id,\n                          price: varList.price,\n                          type: cusList.is_multiple ? \"checkbox\" : \"radio\",\n                          className: \"\".concat(styles.checkInput),\n                          onChange: handelChange,\n                          defaultChecked: varList.isDefault ? true : false\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 65\n                        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"\".concat(cusList.is_multiple ? styles.checkmark : styles.radio)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 303,\n                            columnNumber: 69\n                          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"\".concat(styles.checktext),\n                            style: {\n                              margin: \"0\",\n                              fontWeight: \"700\"\n                            },\n                            children: [varList.title, \" \\xA3\", varList.price]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 304,\n                            columnNumber: 69\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 302,\n                          columnNumber: 65\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 61\n                      }, _this)\n                    }, varList._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 57\n                    }, _this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 49\n                }, _this)]\n              }, cusList._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 45\n              }, _this) : \"\";\n            }) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        className: \"modelFooter\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footerQuantityBtn\",\n          children: /*#__PURE__*/_jsxDEV(QuantityBtn, {\n            defvalue: 1,\n            minValue: 1,\n            getQuantity: getQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footerADDtoCartBtn\",\n          role: \"button\",\n          onClick: addItemToCart,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"\".concat(styles.themeBtn),\n            children: [\"Add to Cart - \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\xA3\", itemPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 145\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 95\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Cart, \"o8fUv6+XHXXlKQNcIQt68YD0q6g=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/vendor/components/Model/Cart.js"],"names":["React","useEffect","useState","styles","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","Link","QuantityBtn","_","manageCartData","useDispatch","Cart","props","dispatch","variant","setVariant","item","setItem","itemPrice","setItemPrice","quantity","setQuantity","tempChildData","setTempChildData","getQuantity","data","resetChildDep","tempChild","Object","keys","length","map","childDep","selectedInput","document","querySelector","selValue","value","childCus","tempCus","customize","filter","dataCus","dependent_with","_id","varListRow","variants","varList","price","dependent_price","find","raw","varientId","undefined","push","title","isDefault","handelChange","e","cusId","currentTarget","name","type","depCus","calculatePrice","tempPrice","Number","console","log","inputs","querySelectorAll","input","checked","getAttribute","addItemToCart","cart","localStorage","getItem","JSON","parse","orderItems","storeId","totalQuantity","totalAmount","orderType","latestGroup","selectedGroup","checkedInputs","groupCheckInput","selectedGroupRaw","groupKey","slice","selectedCustom","cus","tempVar","list","is_multiple","group","menuitem","itemQuantity","stringify","toggle","depCustom","is_dependent","depVarObj","dWithId","dependentCustome","defaultSelectedVarID","defVar","hasOwnProperty","isOpen","ModalCustom","image","description","cusList","titleOptional","marginBottom","checkInput","checkmark","radio","checktext","margin","fontWeight","themeBtn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styles from '../../styles/cart.module.css'\nimport { Row, Col, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input } from 'reactstrap'\nimport Link from 'next/link'\nimport QuantityBtn from '../quantityBtn'\nimport _ from \"lodash\";\nimport { manageCartData } from '../../reducers/mainSlice'\nimport { useDispatch } from 'react-redux'\nimport \"../../styles/cartModel.css\"\n\nexport default function Cart(props) {\n\n    const dispatch = useDispatch()\n    const [variant, setVariant] = useState({})\n    const [item, setItem] = useState(null)\n    const [itemPrice, setItemPrice] = useState(0.00)\n    const [quantity, setQuantity] = useState(1)\n    const [tempChildData, setTempChildData] = useState({})\n\n    const getQuantity = (data) => {\n        setQuantity(data)\n    }\n    \n    const resetChildDep = (data) =>{\n        // console.log('data',data);\n        let tempChild={}\n        if (Object.keys(data).length!=0) {\n            Object.keys(data).map(childDep=>{\n                let selectedInput = document.querySelector(`input[name=\"${childDep}\"]:checked`)\n                let selValue = selectedInput?selectedInput.value:''\n                data[childDep].childCus.map(tempCus=>{\n                    let childCus = props.item.customize.filter(dataCus=>dataCus.dependent_with==tempCus._id);\n                        if (childCus.length!=0) {\n                            tempChild[tempCus._id] = {\n                                childCus:childCus,\n                                data:data,\n                            }\n                        }\n                    let varListRow = []\n                    tempCus.variants.map(varList=>{\n                        let price = varList.dependent_price.find(raw=>raw.varientId==selValue);\n                        if (price!==undefined) {\n                            varListRow.push({\n                                _id:varList._id,\n                                title: varList.title,\n                                price: price,\n                                isDefault: varList.isDefault,\n                            })  \n                        }\n                    })\n                    variant[childDep][tempCus._id] = varListRow\n                })\n            })\n            setVariant({...variant})\n            setTempChildData(tempChild) \n        }\n    }\n\n    const handelChange =  (e) => {\n        let cusId = e.currentTarget.name\n        let type = e.currentTarget.type\n        let tempChild={}\n        if (type=='radio') {\n            let depCus = props.item.customize.filter(dataCus=>dataCus.dependent_with==cusId)\n            if (depCus.length!=0) {\n                depCus.map(data=>{\n                    let childCus = props.item.customize.filter(dataCus=>dataCus.dependent_with==data._id);\n                    if (childCus.length!=0) {\n                        // console.log(data.title,' childCus',childCus);\n                        tempChild[data._id] = {\n                            childCus:childCus,\n                            data:data,\n                        }\n                    }\n                    let varListRow=[]\n                    data.variants.map(varList=>{\n                        let price = varList.dependent_price.find(raw=>raw.varientId==e.currentTarget.value);\n                        if (price!==undefined) {\n                            varListRow.push({\n                                _id:varList._id,\n                                title: varList.title,\n                                price: price,\n                                isDefault: varList.isDefault,\n                            })  \n                        }\n                    })\n                    variant[cusId][data._id] = varListRow;\n                })\n                setVariant({...variant}) \n                setTempChildData(tempChild)\n            }\n        }\n        calculatePrice()\n    }\n\n    const calculatePrice = () => {\n        let tempPrice = Number(item.price);\n        console.log(\"item price\", tempPrice);\n        item.customize.map(data => { \n            let inputs = document.querySelectorAll(`input[name=\"${data._id}\"]`)\n            for (const input of inputs) {\n                if (input.checked) {\n                    tempPrice += Number(input.getAttribute('price'))\n                }\n            }\n        })\n        // console.log('tempPrice',tempPrice);\n        setItemPrice(tempPrice * quantity)\n    }\n\n    const addItemToCart = () => {\n        let cart = localStorage.getItem('cart')?JSON.parse(localStorage.getItem('cart')):{\n            orderItems:{},\n            storeId:props.storeId,\n            totalQuantity:0,\n            totalAmount:0.00,\n            orderType:0\n        }\n        let latestGroup = cart.orderItems[item._id]?cart.orderItems[item._id].latestGroup : []\n        let selectedGroup = cart.orderItems[item._id]?cart.orderItems[item._id].selectedGroup : {}\n        /* find all checked input and group tham start*/\n            let checkedInputs={}\n            item.customize.map(data => {\n                let groupCheckInput = []\n                let inputs = document.querySelectorAll(`input[name=\"${data._id}\"]`)\n                for (const input of inputs) {\n                if (input.checked)\n                groupCheckInput.push(input)\n                }\n                checkedInputs[data._id]=groupCheckInput\n            })\n        /* find all checked input and group tham End*/\n        /* Find and create a selected group start */\n            let selectedGroupRaw=[]\n            let groupKey=item._id+\"_\"\n            Object.keys(checkedInputs).map(inputs=>{\n                groupKey+=inputs.slice(inputs.length - 6)\n                let selectedCustom = item.customize.find(cus=> cus._id == inputs)\n                let varListRow=[]\n                checkedInputs[inputs].map(input=>{\n                    let tempVar = selectedCustom.variants.find(list => list._id == input.value)\n                    groupKey+='_'+tempVar._id.slice(tempVar._id.length-6)\n                    varListRow.push({\n                        _id:tempVar._id,\n                        title: tempVar.title,\n                        price: input.getAttribute('price'),\n                    })\n                })\n                if (varListRow.length!=0) {\n                    selectedGroupRaw.push(\n                        {\n                            _id: selectedCustom._id,\n                            title: selectedCustom.title,\n                            is_multiple: selectedCustom.is_multiple,\n                            variants:varListRow\n                        }\n                    ) \n                }\n            })\n            selectedGroup[groupKey]={\n                group:selectedGroupRaw,\n                quantity:selectedGroup[groupKey]?selectedGroup[groupKey].quantity+quantity:quantity,\n                price:selectedGroup[groupKey]?selectedGroup[groupKey].price+itemPrice:itemPrice\n            }\n            latestGroup=selectedGroupRaw\n        /* Find and create a selected group end */\n        /* set cart data to a spacific format start*/   \n            cart.orderItems[item._id]= {\n                menuitem:item,\n                selectedGroup:selectedGroup,\n                latestGroup:latestGroup,\n                itemQuantity:cart.orderItems[item._id]?cart.orderItems[item._id].itemQuantity+quantity:quantity,\n                itemPrice:cart.orderItems[item._id]?cart.orderItems[item._id].itemPrice+itemPrice:itemPrice\n\n            }\n            if (!cart.storeId) {\n                cart.storeId = props.storeId\n            }\n            cart.totalQuantity+=quantity\n            cart.totalAmount+=itemPrice\n            localStorage.setItem('cart',JSON.stringify(cart))\n            dispatch(manageCartData())\n            props.toggle()\n        /* set cart data to a spacific format end*/\n    }\n\n    useEffect(() => {\n        if (props.item) {\n            setTempChildData({})\n            let depCustom = props.item.customize.filter(list=>list.is_dependent)\n            let depVarObj = {}\n            depCustom.map(data=>{\n                let dWithId = data['dependent_with'];\n                let varListRow=[]\n                let dependentCustome = props.item.customize.find(dataCus=>dataCus._id==data.dependent_with)\n                let defaultSelectedVarID = dependentCustome.variants.find(defVar=>defVar.isDefault==true)      \n                if (defaultSelectedVarID!==undefined) {\n                    data.variants.map(varList=>{\n                        let price = varList.dependent_price.find(raw=>raw.varientId==defaultSelectedVarID._id); \n                        if (price!==undefined) {\n                            varListRow.push({\n                                _id:varList._id,\n                                title: varList.title,\n                                price: price,\n                                isDefault: varList.isDefault,\n                            })    \n                        }\n                    })  \n                }\n                if(!variant.hasOwnProperty(dWithId)){\n                    depVarObj ={}\n                    depVarObj[data['_id']] =  varListRow;\n                } else {\n                    depVarObj = variant[dWithId];\n                    depVarObj[data['_id']] =  varListRow;\n                }\n                variant[dWithId] = depVarObj\n            })\n            setVariant({...variant})\n        }\n        setItem(props.item)\n    }, [props.item])\n\n    useEffect(() => {\n        if(item){\n            calculatePrice()\n            // console.log('tempChildData',tempChildData);\n            if (Object.keys(tempChildData).length!=0)\n                resetChildDep(tempChildData)\n        }\n    }, [variant,quantity])\n    console.log(\"item\", item);\n    return (\n        <>\n        \n            <Modal isOpen={props.isOpen} className={`${styles.ModalCustom} modal-dialog-scrollable`}>\n                <ModalHeader className=\"modelHeader\">\n                    <div className=\"modelHeaderTitle\">{item?item.title:''}</div>\n                    <div className=\"bg-close\" onClick={props.toggle}></div>\n                </ModalHeader>\n                <ModalBody className='modelBody'>\n                    <Row>\n                        <Col lg=\"3\" >\n                            <span className='itemImageBox'>\n                                <img src={item && item?.image} className=\"itemImage\" alt=\"Cart\" />\n                            </span>\n                        </Col>\n                        <Col lg=\"9\"  className='itemDetails p-0'>\n                            <div className='itemPrice' >£{ item ? Number(item?.price) : ''}</div>\n                            <div className='itemDescription'>{ item ? item?.description : ''}</div>\n                        </Col>\n                        <Col lg=\"12\" className='allItemsBody'>\n                            {item && item.customize\n                                ?\n                                    item.customize.map(cusList=>(\n                                        cusList.is_dependent\n                                        ?\n                                            Object.keys(variant).length!=0 && variant[cusList.dependent_with][cusList._id].length!=0 \n                                            ?\n                                                <div id={cusList._id} key={cusList._id}>\n                                                    <div className={`${styles.titleOptional} modelItemTitle `}>{cusList.title}</div>\n                                                    <Form id={`var_${cusList._id}`} className=\"cat\">\n                                                        {variant[cusList.dependent_with][cusList._id].map(varList=>(\n                                                            <FormGroup key={varList._id}  style={{marginBottom:\"0\"}}>\n                                                                <Label>\n                                                                    <Input \n                                                                        name={cusList._id} \n                                                                        value={varList._id}\n                                                                        price={varList.price.price}\n                                                                        type={cusList.is_multiple?\"checkbox\":\"radio\"} className={`${styles.checkInput}`} \n                                                                        onChange={handelChange} \n                                                                        defaultChecked={varList.isDefault?true:false} \n                                                                    />\n                                                                    <span>\n                                                                        <p className={`${cusList.is_multiple?styles.checkmark:styles.radio}`}></p>\n                                                                        <p className={`${styles.checktext}`} style={{margin:\"0\", fontWeight:\"700\"}}>{varList.title} £{varList.price.price}</p>\n                                                                    </span>\n                                                                </Label>\n                                                                {/* <span className={`${styles.customizePrice}`}>£{varList.price.price}</span> */}\n                                                            </FormGroup>\n                                                        ))}\n                                                    </Form>\n                                                </div>\n                                            :   ''   \n                                        :\n                                        cusList.variants && cusList.variants.length!=0\n                                        ?\n                                            <div id={cusList._id} key={cusList._id}>\n                                                <div className={`${styles.titleOptional} modelItemTitle`}>{cusList.title}</div>\n                                                <Form id={`var_${cusList._id}`} className=\"cat\">\n                                                    {cusList.variants.map(varList=>(\n                                                        <FormGroup key={varList._id} style={{marginBottom:\"0\"}}>\n                                                            <Label>\n                                                                <Input \n                                                                    name={cusList._id} \n                                                                    value={varList._id} \n                                                                    price={varList.price}\n                                                                    type={cusList.is_multiple?\"checkbox\":\"radio\"} className={`${styles.checkInput}`} \n                                                                    onChange={handelChange} \n                                                                    defaultChecked={varList.isDefault?true:false} \n                                                                />\n                                                                <span>\n                                                                    <p className={`${cusList.is_multiple?styles.checkmark:styles.radio}`}></p>\n                                                                    <p className={`${styles.checktext}`} style={{margin:\"0\", fontWeight:\"700\"}}>{varList.title} £{varList.price}</p>\n                                                                </span>\n                                                            </Label>\n                                                            {/* <span className={`${styles.customizePrice}`}>£{varList.price}</span> */}\n                                                        </FormGroup>\n                                                    ))}\n                                                </Form>\n                                            </div>\n                                        :   \"\"\n                                    ))\n                                :   ''\n                            }\n                        </Col>\n                    </Row>\n                </ModalBody>\n                <ModalFooter className='modelFooter'>\n                    <div className='footerQuantityBtn'>\n                        <QuantityBtn\n                            defvalue={1}\n                            minValue={1}\n                            getQuantity={getQuantity}\n                        />            \n                    </div>\n                    <div className='footerADDtoCartBtn' role=\"button\" onClick={addItemToCart}><a className={`${styles.themeBtn}`}>Add to Cart - <span>£{itemPrice}</span></a></div>\n                </ModalFooter>\n            </Modal>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}