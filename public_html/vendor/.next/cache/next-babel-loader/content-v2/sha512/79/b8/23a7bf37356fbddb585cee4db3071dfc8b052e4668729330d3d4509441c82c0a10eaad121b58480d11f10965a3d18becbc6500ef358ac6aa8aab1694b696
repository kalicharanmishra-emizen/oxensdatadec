{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\"; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, FormGroup, Form, Input, Container, Row, Col, FormFeedback, Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\"; // layout for this page\n\nimport Vendor from \"layouts/Vendor.js\"; // core components\n\nimport UserHeader from \"components/Headers/UserHeader\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProfile, getAuthUser } from \"../reducers/authSlice\";\nimport { unSetApiFail, unSetApiSucc } from \"reducers/mainSlice\";\nimport { toast } from \"react-toastify\";\nimport General from \"../components/Profile/General\";\nimport Password from \"../components/Profile/Password\";\nimport Timing from \"../components/Profile/Timing\";\nimport Loader from \"../components/ApiLoader/loader\";\nimport StoreImages from \"../components/Profile/StoreImages\";\nimport NProgress from 'nprogress';\n\nfunction Profile() {\n  const userProfile = useSelector(state => state.authSlice.profile);\n  const apiError = useSelector(state => state.mainSlice.failed);\n  const apiSuccess = useSelector(state => state.mainSlice.success);\n  const dispatch = useDispatch();\n  const {\n    0: loader,\n    1: setLoader\n  } = useState(false);\n  const {\n    0: profileSend,\n    1: setProfileSend\n  } = useState(null);\n  const {\n    0: vendorTypeListSend,\n    1: setVendorTypeListSend\n  } = useState([]);\n  const {\n    0: categoryListSend,\n    1: setCategoryListSend\n  } = useState([]);\n  const {\n    0: activeTab,\n    1: setActiveTab\n  } = useState('general');\n  useEffect(async () => {\n    setLoader(true);\n    NProgress.start();\n    dispatch(getProfile());\n  }, []);\n  useEffect(() => {\n    if (userProfile) {\n      setProfileSend(userProfile.profile_data);\n      setVendorTypeListSend(userProfile.vendorType);\n      setCategoryListSend(userProfile.categoryList);\n      setLoader(false);\n      NProgress.done();\n    }\n  }, [userProfile]);\n  useEffect(() => {\n    if (apiSuccess) {\n      if (apiSuccess.statusCode >= 200 && apiSuccess.statusCode < 300) {\n        dispatch(getAuthUser());\n        toast(apiSuccess.message, {\n          type: 'success'\n        }); // setLoader(false)\n\n        dispatch(unSetApiSucc());\n        dispatch(getProfile());\n        NProgress.done();\n      }\n    }\n\n    if (apiError) {\n      if (apiError.statusCode >= 400 && apiError.statusCode <= 500) {\n        toast(apiError.message, {\n          type: 'error'\n        });\n        dispatch(unSetApiFail()); // setLoader(false)\n\n        NProgress.done();\n      }\n    }\n  }, [apiSuccess, apiError]);\n\n  const noRefCheck = tab => {\n    let value = tab.target.getAttribute('key-value');\n    setActiveTab(value);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(UserHeader, {}), /*#__PURE__*/_jsx(Container, {\n      className: \"mt--7\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bg-secondary card tabs-Block\",\n        children: [/*#__PURE__*/_jsx(Row, {\n          className: \"m-0\",\n          children: /*#__PURE__*/_jsxs(Nav, {\n            tabs: true,\n            children: [/*#__PURE__*/_jsx(NavItem, {\n              children: /*#__PURE__*/_jsx(NavLink, {\n                className: activeTab == 'general' ? 'active' : '',\n                \"key-value\": \"general\",\n                onClick: noRefCheck,\n                children: \"My Account \"\n              })\n            }), /*#__PURE__*/_jsx(NavItem, {\n              children: /*#__PURE__*/_jsx(NavLink, {\n                className: activeTab == 'password' ? 'active' : '',\n                \"key-value\": \"password\",\n                onClick: noRefCheck,\n                children: \"Passwords\"\n              })\n            }), /*#__PURE__*/_jsx(NavItem, {\n              children: /*#__PURE__*/_jsx(NavLink, {\n                className: activeTab == 'timing' ? 'active' : '',\n                \"key-value\": \"timing\",\n                onClick: noRefCheck,\n                children: \"Timing\"\n              })\n            }), /*#__PURE__*/_jsx(NavItem, {\n              children: /*#__PURE__*/_jsx(NavLink, {\n                className: activeTab == 'storeImages' ? 'active' : '',\n                \"key-value\": \"storeImages\",\n                onClick: noRefCheck,\n                children: \"Images\"\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(TabContent, {\n          activeTab: activeTab,\n          children: [/*#__PURE__*/_jsx(TabPane, {\n            tabId: \"general\",\n            children: /*#__PURE__*/_jsx(Row, {\n              className: \"m-0\",\n              children: /*#__PURE__*/_jsxs(Card, {\n                className: \"bg-secondary shadow\",\n                children: [/*#__PURE__*/_jsx(CardHeader, {\n                  className: \"bg-white border-0\",\n                  children: /*#__PURE__*/_jsx(Row, {\n                    className: \"align-items-center\",\n                    children: /*#__PURE__*/_jsx(Col, {\n                      xs: \"8\",\n                      children: /*#__PURE__*/_jsx(\"h3\", {\n                        className: \"mb-0\",\n                        children: \"My Account\"\n                      })\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(CardBody, {\n                  children: profileSend ? /*#__PURE__*/_jsx(General, {\n                    details: {\n                      id: profileSend._id,\n                      name: profileSend.name,\n                      email: profileSend.email,\n                      phone_no: profileSend.phone_no,\n                      logo: profileSend.pro_image,\n                      profile_data: profileSend.vendor_profile\n                    },\n                    typeList: vendorTypeListSend,\n                    categoryList: categoryListSend,\n                    isLoading: loader\n                  }) : \"\"\n                })]\n              })\n            })\n          }), /*#__PURE__*/_jsx(TabPane, {\n            tabId: \"password\",\n            children: /*#__PURE__*/_jsxs(Card, {\n              className: \"bg-secondary shadow\",\n              children: [/*#__PURE__*/_jsx(CardHeader, {\n                className: \"bg-white border-0\",\n                children: /*#__PURE__*/_jsx(Row, {\n                  className: \"align-items-center\",\n                  children: /*#__PURE__*/_jsx(Col, {\n                    xs: \"8\",\n                    children: /*#__PURE__*/_jsx(\"h3\", {\n                      className: \"mb-0\",\n                      children: \"My Account Passwords\"\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(CardBody, {\n                children: /*#__PURE__*/_jsx(Password, {\n                  isLoading: loader\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsx(TabPane, {\n            tabId: \"timing\",\n            children: /*#__PURE__*/_jsxs(Card, {\n              className: \"bg-secondary shadow\",\n              children: [/*#__PURE__*/_jsx(CardHeader, {\n                className: \"bg-white border-0\",\n                children: /*#__PURE__*/_jsx(Row, {\n                  className: \"align-items-center\",\n                  children: /*#__PURE__*/_jsx(Col, {\n                    xs: \"8\",\n                    children: /*#__PURE__*/_jsx(\"h3\", {\n                      className: \"mb-0\",\n                      children: \"Store Timing\"\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(CardBody, {\n                children: profileSend ? /*#__PURE__*/_jsx(Timing, {\n                  list: profileSend.vendorTiming.timing,\n                  isLoading: loader\n                }) : \"\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(TabPane, {\n            tabId: \"storeImages\",\n            children: /*#__PURE__*/_jsxs(Card, {\n              className: \"bg-secondary shadow\",\n              children: [/*#__PURE__*/_jsx(CardHeader, {\n                className: \"bg-white border-0\",\n                children: /*#__PURE__*/_jsx(Row, {\n                  className: \"align-items-center\",\n                  children: /*#__PURE__*/_jsx(Col, {\n                    xs: \"8\",\n                    children: /*#__PURE__*/_jsx(\"h3\", {\n                      className: \"mb-0\",\n                      children: \"Store Iamges\"\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(CardBody, {\n                children: profileSend ? /*#__PURE__*/_jsx(StoreImages, {\n                  isLoading: loader,\n                  images: profileSend.vendorImages\n                }) : \"\"\n              })]\n            })\n          })]\n        })]\n      })\n    })]\n  });\n}\n\nProfile.layout = Vendor;\nexport default Profile;","map":null,"metadata":{},"sourceType":"module"}