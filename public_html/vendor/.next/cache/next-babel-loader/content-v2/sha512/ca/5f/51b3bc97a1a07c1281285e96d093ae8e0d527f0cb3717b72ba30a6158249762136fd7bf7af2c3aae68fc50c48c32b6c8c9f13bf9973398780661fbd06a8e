{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { callApi } from '../Helper/helper';\nimport { apiFail, apiSuccess } from 'reducers/mainSlice';\nvar discountSlice = createSlice({\n  name: \"Discount\",\n  initialState: {\n    list: {\n      discountType: 0,\n      discountValue: 0,\n      maxDiscount: 0\n    }\n  },\n  reducers: {\n    listing: function listing(state, action) {\n      state.list = {\n        discountType: action.payload.data.discountType || 0,\n        discountValue: action.payload.data.discountValue || 0,\n        maxDiscount: action.payload.data.maxDiscount || 0\n      };\n    }\n  }\n});\nexport default discountSlice.reducer;\nvar listing = discountSlice.actions.listing;\nexport var getDiscount = function getDiscount(page) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return callApi('post', \"/discount/detail\", {});\n\n            case 3:\n              res = _context.sent;\n              dispatch(listing(res.data));\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch(apiFail(_context.t0));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var updateDiscount = function updateDiscount(value) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return callApi('post', '/discount/update', value);\n\n            case 3:\n              res = _context2.sent;\n              dispatch(apiSuccess(res.data));\n              dispatch(listing(res.data));\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatch(apiFail(_context2.t0));\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/vendor/reducers/discountSlice.js"],"names":["createSlice","callApi","apiFail","apiSuccess","discountSlice","name","initialState","list","discountType","discountValue","maxDiscount","reducers","listing","state","action","payload","data","reducer","actions","getDiscount","page","dispatch","res","updateDiscount","value"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,SAASC,OAAT,EAAiBC,UAAjB,QAAmC,oBAAnC;AACA,IAAMC,aAAa,GAAGJ,WAAW,CAAC;AAC9BK,EAAAA,IAAI,EAAC,UADyB;AAE9BC,EAAAA,YAAY,EAAC;AACTC,IAAAA,IAAI,EAAC;AACDC,MAAAA,YAAY,EAAC,CADZ;AAEDC,MAAAA,aAAa,EAAC,CAFb;AAGDC,MAAAA,WAAW,EAAC;AAHX;AADI,GAFiB;AAS9BC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,OAAO,EAAC,iBAACC,KAAD,EAAOC,MAAP,EAAgB;AACpBD,MAAAA,KAAK,CAACN,IAAN,GAAa;AACTC,QAAAA,YAAY,EAACM,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoBR,YAApB,IAAkC,CADtC;AAETC,QAAAA,aAAa,EAACK,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoBP,aAApB,IAAmC,CAFxC;AAGTC,QAAAA,WAAW,EAACI,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoBN,WAApB,IAAiC;AAHpC,OAAb;AAKH;AAPI;AATqB,CAAD,CAAjC;AAoBA,eAAeN,aAAa,CAACa,OAA7B;IACQL,O,GAAYR,aAAa,CAACc,O,CAA1BN,O;AAER,OAAO,IAAMO,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AAAA;AAAA,wEAAU,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEXpB,OAAO,CAAC,MAAD,sBAA2B,EAA3B,CAFI;;AAAA;AAEvBqB,cAAAA,GAFuB;AAG7BD,cAAAA,QAAQ,CAACT,OAAO,CAACU,GAAG,CAACN,IAAL,CAAR,CAAR;AAH6B;AAAA;;AAAA;AAAA;AAAA;AAK7BK,cAAAA,QAAQ,CAACnB,OAAO,aAAR,CAAR;;AAL6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;AAQP,OAAO,IAAMqB,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD;AAAA;AAAA,yEAAW,kBAAMH,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEfpB,OAAO,CAAC,MAAD,EAAQ,kBAAR,EAA2BuB,KAA3B,CAFQ;;AAAA;AAE3BF,cAAAA,GAF2B;AAGjCD,cAAAA,QAAQ,CAAClB,UAAU,CAACmB,GAAG,CAACN,IAAL,CAAX,CAAR;AACAK,cAAAA,QAAQ,CAACT,OAAO,CAACU,GAAG,CAACN,IAAL,CAAR,CAAR;AAJiC;AAAA;;AAAA;AAAA;AAAA;AAMjCK,cAAAA,QAAQ,CAACnB,OAAO,cAAR,CAAR;;AANiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAvB","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport {callApi} from '../Helper/helper'\nimport { apiFail,apiSuccess } from 'reducers/mainSlice'\nconst discountSlice = createSlice({\n    name:\"Discount\",\n    initialState:{\n        list:{\n            discountType:0,\n            discountValue:0,\n            maxDiscount:0\n        },\n    },\n    reducers:{\n        listing:(state,action)=>{\n            state.list = {\n                discountType:action.payload.data.discountType||0,\n                discountValue:action.payload.data.discountValue||0,\n                maxDiscount:action.payload.data.maxDiscount||0\n            }\n        },\n    }\n})\n\nexport default discountSlice.reducer\nconst { listing } = discountSlice.actions\n\nexport const getDiscount = (page) => async dispatch =>{\n    try {\n        const res = await callApi('post',`/discount/detail`,{})\n        dispatch(listing(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    } \n}\nexport const updateDiscount = (value) => async dispatch =>{\n    try {\n        const res = await callApi('post','/discount/update',value)\n        dispatch(apiSuccess(res.data))\n        dispatch(listing(res.data))\n    } catch (e) {\n        dispatch(apiFail(e))\n    } \n}"]},"metadata":{},"sourceType":"module"}