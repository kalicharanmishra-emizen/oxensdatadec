{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/pages/pos/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vendor from 'layouts/Vendor';\nimport { useEffect, useState } from \"react\";\nimport UserHeader from 'components/Headers/UserHeader';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Card, CardBody, Input, CardHeader, Col, Container, Row, Button } from \"reactstrap\";\nimport { unSetApiSucc, unSetApiFail } from \"reducers/mainSlice\";\nimport nProgress from \"nprogress\";\nimport DetailsSidebar from '../../components/posts/details-sidebar';\nimport { getStoreDetail, setFilterStoreItems } from '../../reducers/storeSlice';\nimport \"../../styles/store-detail.css\";\nimport { badgesColor, badgesText } from '../../Helper/helper';\nimport { getAllOrderCharge, manageCartData, placeOrder } from '../../reducers/mainSlice';\nimport QuantityBtn from '../../components/quantityBtn';\nimport Cart from '../../components/Model/Cart';\nimport RemoveItem from '../../components/Model/RemoveItem';\nimport PosUserComponent from \"../../components/searchPOSuser/posUserComponent\";\n\nconst index = () => {\n  var _storeDetail$data5, _storeDetail$data6, _storeDetail$data7;\n\n  const dispatch = useDispatch();\n  const storeItems = useSelector(state => state.storeSlice.storeItems);\n  const storeDetail = useSelector(state => state.storeSlice.storeDetail);\n  const cart = useSelector(state => state.mainSlice.cart);\n  const allCharges = useSelector(state => state.mainSlice.charge);\n  const apiFail = useSelector(state => state.mainSlice.failed);\n  const apiSuccess = useSelector(state => state.mainSlice.success);\n  const {\n    0: transectionIdPOS,\n    1: setTransectionIdPOS\n  } = useState(null);\n  const {\n    0: transectionIdError,\n    1: setTransectionIdError\n  } = useState(false);\n  const {\n    0: isReset,\n    1: setIsReset\n  } = useState(false);\n  const {\n    0: selectUser,\n    1: setSelectUser\n  } = useState(null);\n  const {\n    0: tip,\n    1: setTip\n  } = useState(0);\n  const {\n    0: itemId,\n    1: setItemId\n  } = useState(null);\n  const {\n    0: cartItem,\n    1: setCartItem\n  } = useState(null);\n  const {\n    0: cartModal,\n    1: setCartModal\n  } = useState(false);\n  const {\n    0: selectedCat,\n    1: setSelectedCat\n  } = useState(null);\n  const {\n    0: cartRemoveModal,\n    1: setCartRemoveModal\n  } = useState(false);\n  const {\n    0: selectedCatTitle,\n    1: setSelectedCatTitle\n  } = useState('');\n  const {\n    0: paymentMode,\n    1: setPaymentMode\n  } = useState(0); // 0 => COD, 1 => wallet, 2 => other\n\n  const {\n    0: bannerImage,\n    1: setBannerImage\n  } = useState({\n    main: [process.env.BASE_URL + '/images/placeholder-banner.png'],\n    other: []\n  });\n  const {\n    0: storeTiming,\n    1: setStoreTiming\n  } = useState({\n    open: '0.00',\n    close: '0.00'\n  });\n  const {\n    0: charge,\n    1: setCharge\n  } = useState({\n    subTotal: 0.00,\n    discount: 0.00,\n    taxCharge: 0.00,\n    grandTotal: 0.00\n  }); // start cart function =========\n\n  const addItemToCart = item => {\n    var _storeDetail$data;\n\n    let cart = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : {\n      orderItems: {},\n      storeId: storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data = storeDetail.data) === null || _storeDetail$data === void 0 ? void 0 : _storeDetail$data._id,\n      totalQuantity: 0,\n      totalAmount: 0.00\n    };\n    let itemPrice = Number(item.price);\n    let latestGroup = cart.orderItems[item._id] ? cart.orderItems[item._id].latestGroup : [];\n    let selectedGroup = cart.orderItems[item._id] ? cart.orderItems[item._id].selectedGroup : {};\n    /* Find and create a selected group start */\n\n    let selectedGroupRaw = [];\n    let groupKey = item._id;\n    selectedGroup[groupKey] = {\n      group: selectedGroupRaw,\n      quantity: selectedGroup[groupKey] ? selectedGroup[groupKey].quantity + 1 : 1,\n      price: selectedGroup[groupKey] ? selectedGroup[groupKey].price + itemPrice : itemPrice\n    };\n    latestGroup = selectedGroupRaw;\n    /* Find and create a selected group end */\n\n    /* set cart data to a spacific format start*/\n\n    cart.orderItems[item._id] = {\n      menuitem: item,\n      selectedGroup: selectedGroup,\n      latestGroup: latestGroup,\n      itemQuantity: cart.orderItems[item._id] ? cart.orderItems[item._id].itemQuantity + 1 : 1,\n      itemPrice: cart.orderItems[item._id] ? cart.orderItems[item._id].itemPrice + itemPrice : itemPrice\n    };\n\n    if (!cart.storeId) {\n      var _storeDetail$data2;\n\n      cart.storeId = storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data2 = storeDetail.data) === null || _storeDetail$data2 === void 0 ? void 0 : _storeDetail$data2._id;\n    }\n\n    cart.totalQuantity += 1;\n    cart.totalAmount += itemPrice;\n    localStorage.setItem('cart', JSON.stringify(cart));\n    dispatch(manageCartData());\n    /* set cart data to a spacific format end*/\n  };\n\n  const cartToggle = e => {\n    let selectItem = null;\n\n    if (e !== undefined) {\n      let item = e.currentTarget.getAttribute('item');\n      selectItem = storeItems.doc.find(data => data._id == item);\n    }\n\n    if (selectItem != undefined) {\n      var _cart$storeDetail, _cart$storeDetail$dat, _cart$storeDetail2, _cart$storeDetail2$da;\n\n      if ((_cart$storeDetail = cart.storeDetail) !== null && _cart$storeDetail !== void 0 && (_cart$storeDetail$dat = _cart$storeDetail.data) !== null && _cart$storeDetail$dat !== void 0 && _cart$storeDetail$dat._id && storeId != ((_cart$storeDetail2 = cart.storeDetail) === null || _cart$storeDetail2 === void 0 ? void 0 : (_cart$storeDetail2$da = _cart$storeDetail2.data) === null || _cart$storeDetail2$da === void 0 ? void 0 : _cart$storeDetail2$da._id)) {\n        Swal.fire({\n          icon: 'info',\n          html: `Your cart has existing items from other store. Do you want to clear it and add items from ${storeDetail.data ? storeDetail.data.title : ''}?`,\n          showCancelButton: true,\n          confirmButtonText: 'Yes',\n          scrollbarPadding: false,\n          closeOnConfirm: true,\n          customClass: {\n            actions: 'cartConfirmAction',\n            confirmButton: 'ageInfoBtn',\n            cancelButton: 'ageInfoBtn',\n            htmlContainer: 'ageInfoHtmlContainer',\n            title: \"cartConfirnHeader\"\n          }\n        }).then(result => {\n          if (result.isConfirmed) {\n            localStorage.removeItem('cart');\n            dispatch(manageCartData());\n\n            if (selectItem.age_res) {\n              Swal.fire({\n                icon: 'info',\n                html: `You mush be of 18+ age for ordering this product.<br>Are you 18 or above?`,\n                showCancelButton: true,\n                confirmButtonText: 'Yes',\n                scrollbarPadding: false,\n                closeOnConfirm: true,\n                customClass: {\n                  actions: 'cartConfirmAction',\n                  confirmButton: 'ageInfoBtn',\n                  cancelButton: 'ageInfoBtn',\n                  htmlContainer: 'ageInfoHtmlContainer',\n                  title: \"cartConfirnHeader\"\n                }\n              }).then(result => {\n                if (result.isConfirmed) {\n                  if (selectItem.is_customize) {\n                    setCartItem(selectItem);\n                    setCartModal(!cartModal);\n                  } else {\n                    addItemToCart(selectItem);\n                  }\n                }\n              });\n            } else {\n              if (selectItem.is_customize) {\n                setCartItem(selectItem);\n                setCartModal(!cartModal);\n              } else {\n                addItemToCart(selectItem);\n              }\n            }\n          }\n        });\n      } else {\n        if (selectItem.age_res) {\n          Swal.fire({\n            icon: 'info',\n            html: `You mush be of 18+ age for ordering this product.<br>Are you 18 or above?`,\n            showCancelButton: true,\n            confirmButtonText: 'Yes',\n            scrollbarPadding: false,\n            closeOnConfirm: true,\n            customClass: {\n              actions: 'cartConfirmAction',\n              confirmButton: 'ageInfoBtn',\n              cancelButton: 'ageInfoBtn',\n              htmlContainer: 'ageInfoHtmlContainer',\n              title: \"cartConfirnHeader\"\n            }\n          }).then(result => {\n            if (result.isConfirmed) {\n              if (selectItem.is_customize) {\n                setCartItem(selectItem);\n                setCartModal(!cartModal);\n              } else {\n                addItemToCart(selectItem);\n              }\n            }\n          });\n        } else {\n          if (selectItem.is_customize) {\n            setCartItem(selectItem);\n            setCartModal(!cartModal);\n          } else {\n            addItemToCart(selectItem);\n          }\n        }\n      }\n    } else {\n      setCartItem(null);\n      setCartModal(!cartModal);\n    }\n  };\n\n  const cartRemoveToggle = () => {\n    setItemId(null);\n    setCartRemoveModal(!cartRemoveModal);\n  };\n\n  const getSelectedCat = value => {\n    let tempCat = storeDetail.data.filter.find(list => list._id == value); // Nprogress.start()\n\n    dispatch(setFilterStoreItems({\n      catId: value\n    }));\n    setSelectedCat(tempCat._id);\n    setSelectedCatTitle(tempCat.title);\n    console.log(\"template\", tempCat);\n  };\n\n  const getQuantity = data => {\n    if (data.newPopUp) {\n      let selectItem = storeItems.doc.find(list => list._id == data.itemId);\n      setCartItem(selectItem != undefined ? selectItem : null);\n      setCartModal(!cartModal);\n    } else if (data.removePopUp) {\n      setItemId(data.itemId);\n      setCartRemoveModal(!cartRemoveModal);\n    }\n  };\n\n  const calculateDefaultPrice = data => {\n    let price = Number(data.price);\n    /* get and calulate none dependent price start */\n\n    let noneDepCus = data.customize.filter(temp => !temp.is_dependent);\n    noneDepCus.map(tempCus => {\n      tempCus.variants.map(tempVar => {\n        if (tempVar.isDefault) {\n          price += Number(tempVar.price);\n        }\n      });\n    });\n    /* get and calulate none dependent price end */\n\n    /* get and calulate dependent price start */\n\n    let depCus = data.customize.filter(temp => temp.is_dependent);\n    depCus.map(tempCus => {\n      let dependentCustome = data.customize.find(dataCus => dataCus._id == tempCus.dependent_with);\n      let defaultSelectedVarID = dependentCustome.variants.find(defVar => defVar.isDefault == true);\n\n      if (defaultSelectedVarID != undefined) {\n        tempCus.variants.map(tempVar => {\n          if (tempVar.isDefault) {\n            let temPrice = tempVar.dependent_price.find(temp => temp.varientId == defaultSelectedVarID._id);\n\n            if (temPrice != undefined) {\n              price += Number(temPrice.price);\n            }\n          }\n        });\n      }\n    });\n    /* get and calulate dependent price end */\n\n    return price;\n  }; // end cart function =========\n  // add to cart start **************\n\n\n  const getCustomeTypeToString = data => {\n    console.log(\"data\", data);\n    let returnString = '';\n    data.map(cus => {\n      returnString += cus.title + '|';\n      cus.variants.map(vare => {\n        returnString += vare.title + ',';\n      });\n    });\n    return returnString;\n  }; // add to cart end **************\n  // all charges or calculation start ============= \n\n\n  const tipChange = e => {\n    if (e.target.value.match(/^[0-9]*$/) && e.target.value != '') {\n      setTip(e.target.value);\n    } else {\n      setTip(0);\n    }\n  };\n\n  const submitOrder = async () => {\n    if (true) {\n      var _storeDetail$data3, _storeDetail$data4;\n\n      // nProgress.start()\n      let orderProduct = [];\n      Object.keys(cart.orderItems).map(list => {\n        Object.keys(cart.orderItems[list]['selectedGroup']).map(group => {\n          /* manage customize's and varient's */\n          let customize = [];\n          cart.orderItems[list]['selectedGroup'][group]['group'].map(cus => {\n            /* set Customize varients */\n            let customizeVarient = [];\n            cus.variants.map(ver => {\n              customizeVarient.push({\n                id: ver._id,\n                title: ver.title\n              });\n            });\n            customize.push({\n              id: cus._id,\n              title: cus.title,\n              variants: customizeVarient\n            });\n          });\n          orderProduct.push({\n            id: cart.orderItems[list].menuitem._id,\n            title: cart.orderItems[list].menuitem.title,\n            age_res: cart.orderItems[list].menuitem.age_res,\n            customize: customize,\n            quantity: cart.orderItems[list]['selectedGroup'][group].quantity,\n            price: cart.orderItems[list]['selectedGroup'][group].price\n          });\n        });\n      });\n      let finalOrderSumery = {\n        userId: selectUser === null || selectUser === void 0 ? void 0 : selectUser.key,\n        storeId: storeDetail ? storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data3 = storeDetail.data) === null || _storeDetail$data3 === void 0 ? void 0 : _storeDetail$data3._id : \"\",\n        paymentMode: paymentMode ? paymentMode : 0,\n        deliveryAddress: storeDetail ? storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data4 = storeDetail.data) === null || _storeDetail$data4 === void 0 ? void 0 : _storeDetail$data4.location : {},\n        pickupData: [],\n        type: 1,\n        orderType: 1,\n        totalQuantity: cart.totalQuantity,\n        totalMrp: cart.totalAmount,\n        servicePrice: 0.00,\n        discountPrice: charge.discount,\n        deliveryPrice: 0.00,\n        totalPrice: charge.grandTotal - tip,\n        taxCharge: charge.taxCharge,\n        tip: tip ? tip : 0,\n        comment: \"\",\n        product: orderProduct,\n        paymentStatus: 1,\n        status: 1,\n        transectionIdPOS: transectionIdPOS\n      };\n      setIsReset(true);\n      setTransectionIdPOS(\"\");\n      setPaymentMode(0);\n      dispatch(placeOrder(finalOrderSumery));\n      console.log(\"finalOrderSumery obj\", finalOrderSumery);\n    }\n  };\n\n  const calculateCharges = () => {\n    let tempTaxCharge = 0.00;\n    let tempServiceCharge = 0.00;\n    let tempDiscountCharge = 0.00;\n\n    if (Object.keys(cart.orderItems).length == 0 && localStorage.getItem('cart') && Object.keys(JSON.parse(localStorage.getItem('cart')).orderItems).length != 0) {\n      dispatch(manageCartData());\n    }\n\n    if (cart.storeId && storeDetail.isLoading) {\n      dispatch(getStoreDetail({\n        storeId: cart.storeId\n      }));\n    }\n\n    if (Object.keys(charge).length != 0) {\n      // celculate service charge\n      tempServiceCharge = cart.totalAmount * allCharges.serviceFee / 100;\n\n      if (tempServiceCharge > allCharges.maxServiceFee) {\n        tempServiceCharge = allCharges.maxServiceFee;\n      } // calculate tax\n      // if (allCharges.taxPay != 0) {\n      //   tempTaxCharge = (cart.totalAmount * allCharges.taxPay)/100\n      // }\n      // calculate discount price\n\n\n      if (!storeDetail.isLoading && Object.keys(storeDetail.data.discount).length != 0 && (storeDetail.data.discount.discountType == 0 && storeDetail.data.discount.discountValue > 0 || storeDetail.data.discount.discountType == 1 && storeDetail.data.discount.maxDiscount > 0)) {\n        tempDiscountCharge = storeDetail.data.discount.maxDiscount;\n\n        if (storeDetail.data.discount.discountType == 0) {\n          tempDiscountCharge = cart.totalAmount * storeDetail.data.discount.discountValue / 100;\n\n          if (storeDetail.data.discount.maxDiscount > 0 && tempDiscountCharge > storeDetail.data.discount.maxDiscount) {\n            tempDiscountCharge = storeDetail.data.discount.maxDiscount;\n          }\n        }\n      }\n    }\n\n    setCharge({\n      grandTotal: Number((cart.totalAmount + Number(tip) + tempTaxCharge - tempDiscountCharge).toFixed(2)),\n      //remove tex charges after number(tip)  + tempTaxCharge\n      discount: Number(tempDiscountCharge.toFixed(2)),\n      // serviceCharge:tempServiceCharge.toFixed(2),\n      taxCharge: Number(tempTaxCharge.toFixed(2)),\n      subTotal: Number(cart.totalAmount.toFixed(2))\n    });\n  };\n\n  const clearCartData = e => {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't to Delete this order!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        let cart = {\n          orderItems: {},\n          orderType: 0,\n          storeId: null,\n          totalQuantity: 0,\n          totalAmount: 0.00\n        };\n        localStorage.setItem('cart', JSON.stringify(cart));\n        dispatch(manageCartData());\n        setTransectionIdPOS(\"\");\n        setPaymentMode(0);\n        setIsReset(true);\n      }\n    });\n  };\n\n  const confirmOrder = () => {\n    if (selectUser === null) {\n      Swal.fire('Please select user');\n    } else if ((paymentMode === 1 || paymentMode === 2) && !transectionIdPOS) {\n      setTransectionIdError(true);\n    } else {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't to complete this Order!\",\n        icon: 'info',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, confirmed Order!'\n      }).then(result => {\n        if (result.isConfirmed) {\n          Swal.fire('Submit!', 'Your Order has been submited.', 'success').then(result => {\n            if (result) {\n              submitOrder();\n            }\n          });\n        }\n      });\n    }\n  };\n\n  const handelPOSUser = data => {\n    setSelectUser(data);\n  };\n\n  const handelisReset = data => {\n    setIsReset(false);\n  }; // all charges or calculation end ============= \n  //  effects start *****************\n\n\n  useEffect(() => {\n    dispatch(getAllOrderCharge());\n    dispatch(getStoreDetail());\n  }, []); // add to cart effect \n\n  useEffect(() => {\n    if (!storeDetail.isLoading && storeDetail.data) {\n      /* set banner image start */\n      let mainImg = storeDetail.data.store_image.find(data => {\n        return data._id == 'main';\n      });\n\n      if (mainImg !== undefined) {\n        bannerImage.main = mainImg.image;\n      }\n\n      let otherImage = storeDetail.data.store_image.find(data => {\n        return data._id == 'other';\n      });\n\n      if (otherImage !== undefined) {\n        bannerImage.other = otherImage.image;\n      }\n\n      setBannerImage(_objectSpread({}, bannerImage));\n      /* set banner image end */\n\n      /* set timing start */\n\n      if (storeDetail.data.timing && 'time_data' in storeDetail.data.timing) {\n        storeTiming.open = storeDetail.data.timing.time_data.open != '' ? storeDetail.data.timing.time_data.open : '0.00';\n        storeTiming.close = storeDetail.data.timing.time_data.close != '' ? storeDetail.data.timing.time_data.close : '0.00';\n        setStoreTiming(_objectSpread({}, storeTiming));\n      }\n      /* set timing end */\n\n\n      nProgress.done();\n    }\n  }, [storeDetail]); // selected product price calulation\n\n  useEffect(() => {\n    calculateCharges();\n  }, [tip, cart, storeItems]); // after submit order clear page \n\n  useEffect(() => {\n    if (apiFail) {\n      if (apiFail.statusCode >= 400 && apiFail.statusCode <= 500) {\n        nProgress.done();\n        dispatch(unSetApiFail());\n        alert(apiFail.message);\n      }\n    }\n\n    if (apiSuccess) {\n      if (apiSuccess.statusCode >= 200 && apiSuccess.statusCode <= 300) {\n        nProgress.done();\n        dispatch(unSetApiSucc());\n        let cart = {\n          orderItems: {},\n          orderType: 0,\n          storeId: null,\n          totalQuantity: 0,\n          totalAmount: 0.00\n        };\n        localStorage.setItem('cart', JSON.stringify(cart));\n        dispatch(manageCartData());\n      }\n    }\n  }, [apiFail, apiSuccess]); //  effects end *****************\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(UserHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt--7\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"order-xl-1\",\n          xl: \"12\",\n          lg: \"12\",\n          sm: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-secondary shadow\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"bg-white border-0\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"8\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"mb-0\",\n                    children: \"POS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              children: (storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data5 = storeDetail.data) === null || _storeDetail$data5 === void 0 ? void 0 : _storeDetail$data5.assignPOS) === 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    xl: \"12\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Select Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 558,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(DetailsSidebar, {\n                      filter: storeDetail.data ? storeDetail.data.filter : [],\n                      getSelectedCat: getSelectedCat\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"mt-5\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    xl: \"8\",\n                    lg: \"12\",\n                    md: \"12\",\n                    sm: \"12\",\n                    className: \"mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"storeCards\",\n                      children: storeItems.doc.map(list => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `itemStoreCard ${(list === null || list === void 0 ? void 0 : list.status) === false ? \"dissabledStoritem\" : \"\"}`,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `imageBlock`,\n                          style: {\n                            backgroundImage: `url('${list.image}')`,\n                            width: \"100%\",\n                            height: \"118px\",\n                            backgroundRepeat: \"no-repeat\",\n                            backgroundSize: \"cover\"\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 570,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `itemInfo`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 573,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                          style: {\n                            fontSize: \"14px\"\n                          },\n                          children: list.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 574,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `itemPrice`,\n                          children: [\"\\xA3\", list.is_customize ? calculateDefaultPrice(list) : list.price]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 575,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 578,\n                          columnNumber: 43\n                        }, this), (list === null || list === void 0 ? void 0 : list.badge) != 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"itemCardBadge\",\n                          style: {\n                            background: !(list !== null && list !== void 0 && list.status) ? \"rgb(191, 191, 191)\" : badgesColor(list.badge)\n                          },\n                          children: badgesText(list.badge)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 581,\n                          columnNumber: 49\n                        }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `addTocartBtnBlock`,\n                          children: list !== null && list !== void 0 && list.status ? cart && cart.orderItems[list._id] ? list.is_customize ? /*#__PURE__*/_jsxDEV(QuantityBtn, {\n                            defvalue: cart.orderItems[list._id].itemQuantity,\n                            askCus: true,\n                            itemId: list._id,\n                            getQuantity: getQuantity\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 600,\n                            columnNumber: 57\n                          }, this) : /*#__PURE__*/_jsxDEV(QuantityBtn, {\n                            defvalue: cart.orderItems[list._id].itemQuantity,\n                            grpCus: true,\n                            groupId: list._id,\n                            itemId: list._id,\n                            getQuantity: () => {}\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 606,\n                            columnNumber: 57\n                          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                            role: \"button\",\n                            onClick: cartToggle,\n                            item: list._id,\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              children: \"Add\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 613,\n                              columnNumber: 111\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 613,\n                            columnNumber: 55\n                          }, this) : \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 595,\n                          columnNumber: 45\n                        }, this)]\n                      }, list._id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 569,\n                        columnNumber: 39\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xl: \"4\",\n                    lg: \"12\",\n                    md: \"12\",\n                    sm: \"12\",\n                    className: \"leftcarCalculationtBox\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"topUserManageBox\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"selectUserBtn\",\n                        children: /*#__PURE__*/_jsxDEV(PosUserComponent, {\n                          handelPOSUser: handelPOSUser,\n                          isReset: isReset,\n                          handelisReset: handelisReset\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 630,\n                          columnNumber: 39\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 629,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 628,\n                      columnNumber: 35\n                    }, this), Object.keys(cart.orderItems).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"cartBlock\",\n                      children: Object.keys(cart.orderItems).map(list => Object.keys(cart.orderItems[list].selectedGroup).map(group => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"cartbody\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"cartImg\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: cart.orderItems[list].menuitem.image,\n                            alt: \"Cart\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 646,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 645,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"cartContent\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"titlePriceBox\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"cartItemname\",\n                              children: cart.orderItems[list].menuitem.title\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 650,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"cartItemPrice\",\n                              children: [\"\\xA3\", cart.orderItems[list].selectedGroup[group].price]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 651,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 649,\n                            columnNumber: 59\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              fontSize: \"12px\"\n                            },\n                            children: [getCustomeTypeToString(cart.orderItems[list].selectedGroup[group].group), \" \"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 653,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"AddToCartBtn\",\n                            children: /*#__PURE__*/_jsxDEV(QuantityBtn, {\n                              defvalue: cart.orderItems[list].selectedGroup[group].quantity,\n                              grpCus: true,\n                              groupId: group,\n                              itemId: list,\n                              getQuantity: () => {}\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 655,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 654,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 648,\n                          columnNumber: 57\n                        }, this)]\n                      }, group, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 644,\n                        columnNumber: 53\n                      }, this)))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 640,\n                      columnNumber: 41\n                    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `subtotal`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"valculationBox\",\n                        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Subtotal\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 676,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: [\"\\xA3 \", charge.subTotal]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 679,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 675,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"Discount\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 684,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: [\"\\xA3 \", charge === null || charge === void 0 ? void 0 : charge.discount]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 687,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 683,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 674,\n                          columnNumber: 39\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 673,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"finalAmountBox\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Grand Total\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 703,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [\"\\xA3 \", charge.grandTotal]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 706,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 702,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                        className: \"containerBox\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"selector\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"selecotr-item\",\n                            children: [/*#__PURE__*/_jsxDEV(Input, {\n                              type: \"radio\",\n                              id: \"huey\",\n                              name: \"drone\",\n                              value: \"0\",\n                              checked: paymentMode === 0,\n                              onChange: e => setPaymentMode(0),\n                              className: \"selector-item_radio\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 715,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                              for: \"huey\",\n                              className: \"selector-item_label\",\n                              children: \"Cash\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 724,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 714,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"selecotr-item\",\n                            children: [/*#__PURE__*/_jsxDEV(Input, {\n                              type: \"radio\",\n                              id: \"dewey\",\n                              name: \"drone\",\n                              value: \"1\",\n                              checked: paymentMode === 1,\n                              onChange: e => setPaymentMode(1),\n                              className: \"selector-item_radio\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 727,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                              for: \"dewey\",\n                              className: \"selector-item_label\",\n                              children: \"Wallet\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 736,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 726,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"selecotr-item\",\n                            children: [/*#__PURE__*/_jsxDEV(Input, {\n                              type: \"radio\",\n                              id: \"louie\",\n                              name: \"drone\",\n                              value: \"2\",\n                              checked: paymentMode === 2,\n                              onChange: e => setPaymentMode(2),\n                              className: \"selector-item_radio\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 739,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                              for: \"louie\",\n                              className: \"selector-item_label\",\n                              children: \"Card\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 748,\n                              columnNumber: 43\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 738,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 713,\n                          columnNumber: 39\n                        }, this), paymentMode !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            for: \"louie\",\n                            className: \"selector-item_label\",\n                            children: \"Transection ID\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 755,\n                            columnNumber: 43\n                          }, this), /*#__PURE__*/_jsxDEV(Input, {\n                            type: \"text\",\n                            id: \"transectionIdPOS\",\n                            name: \"transectionIdPOS\",\n                            value: transectionIdPOS,\n                            onChange: e => setTransectionIdPOS(e.target.value),\n                            className: \"selector-item_radio\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 756,\n                            columnNumber: 43\n                          }, this), transectionIdError && !transectionIdPOS && /*#__PURE__*/_jsxDEV(\"label\", {\n                            style: {\n                              color: \"red\"\n                            },\n                            children: \"Transection ID is required\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 764,\n                            columnNumber: 87\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 754,\n                          columnNumber: 41\n                        }, this) : \"\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 712,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `bottumBtnBox`,\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          onClick: confirmOrder,\n                          disabled: Object.keys(cart.orderItems).length > 0 ? false : true,\n                          type: \"button\",\n                          color: \"success\",\n                          children: \"Submit Order\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 771,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          onClick: clearCartData,\n                          disabled: Object.keys(cart.orderItems).length > 0 ? false : true,\n                          type: \"button\",\n                          color: \"danger\",\n                          children: \"Clear Cart\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 778,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 770,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 627,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"contact to admin for POS activation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Cart, {\n      isOpen: cartModal,\n      toggle: cartToggle,\n      item: cartItem,\n      storeId: storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data6 = storeDetail.data) === null || _storeDetail$data6 === void 0 ? void 0 : _storeDetail$data6._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 799,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(RemoveItem, {\n      isOpen: cartRemoveModal,\n      toggle: cartRemoveToggle,\n      itemId: itemId,\n      storeId: storeDetail === null || storeDetail === void 0 ? void 0 : (_storeDetail$data7 = storeDetail.data) === null || _storeDetail$data7 === void 0 ? void 0 : _storeDetail$data7._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\nindex.layout = Vendor;\nexport default index;","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/vendor/pages/pos/index.js"],"names":["Vendor","useEffect","useState","UserHeader","useDispatch","useSelector","Card","CardBody","Input","CardHeader","Col","Container","Row","Button","unSetApiSucc","unSetApiFail","nProgress","DetailsSidebar","getStoreDetail","setFilterStoreItems","badgesColor","badgesText","getAllOrderCharge","manageCartData","placeOrder","QuantityBtn","Cart","RemoveItem","PosUserComponent","index","dispatch","storeItems","state","storeSlice","storeDetail","cart","mainSlice","allCharges","charge","apiFail","failed","apiSuccess","success","transectionIdPOS","setTransectionIdPOS","transectionIdError","setTransectionIdError","isReset","setIsReset","selectUser","setSelectUser","tip","setTip","itemId","setItemId","cartItem","setCartItem","cartModal","setCartModal","selectedCat","setSelectedCat","cartRemoveModal","setCartRemoveModal","selectedCatTitle","setSelectedCatTitle","paymentMode","setPaymentMode","bannerImage","setBannerImage","main","process","env","BASE_URL","other","storeTiming","setStoreTiming","open","close","setCharge","subTotal","discount","taxCharge","grandTotal","addItemToCart","item","localStorage","getItem","JSON","parse","orderItems","storeId","data","_id","totalQuantity","totalAmount","itemPrice","Number","price","latestGroup","selectedGroup","selectedGroupRaw","groupKey","group","quantity","menuitem","itemQuantity","setItem","stringify","cartToggle","e","selectItem","undefined","currentTarget","getAttribute","doc","find","Swal","fire","icon","html","title","showCancelButton","confirmButtonText","scrollbarPadding","closeOnConfirm","customClass","actions","confirmButton","cancelButton","htmlContainer","then","result","isConfirmed","removeItem","age_res","is_customize","cartRemoveToggle","getSelectedCat","value","tempCat","filter","list","catId","console","log","getQuantity","newPopUp","removePopUp","calculateDefaultPrice","noneDepCus","customize","temp","is_dependent","map","tempCus","variants","tempVar","isDefault","depCus","dependentCustome","dataCus","dependent_with","defaultSelectedVarID","defVar","temPrice","dependent_price","varientId","getCustomeTypeToString","returnString","cus","vare","tipChange","target","match","submitOrder","orderProduct","Object","keys","customizeVarient","ver","push","id","finalOrderSumery","userId","key","deliveryAddress","location","pickupData","type","orderType","totalMrp","servicePrice","discountPrice","deliveryPrice","totalPrice","comment","product","paymentStatus","status","calculateCharges","tempTaxCharge","tempServiceCharge","tempDiscountCharge","length","isLoading","serviceFee","maxServiceFee","discountType","discountValue","maxDiscount","toFixed","clearCartData","text","confirmButtonColor","cancelButtonColor","confirmOrder","handelPOSUser","handelisReset","mainImg","store_image","image","otherImage","timing","time_data","done","statusCode","alert","message","assignPOS","backgroundImage","width","height","backgroundRepeat","backgroundSize","fontSize","badge","background","color","textAlign","layout"],"mappings":"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","sourcesContent":["import Vendor from 'layouts/Vendor'\nimport { useEffect, useState } from \"react\";\nimport UserHeader from 'components/Headers/UserHeader';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Card, CardBody, Input, CardHeader, Col, Container, Row, Button} from \"reactstrap\";\nimport { unSetApiSucc,unSetApiFail } from \"reducers/mainSlice\";\nimport nProgress from \"nprogress\";\nimport DetailsSidebar from '../../components/posts/details-sidebar';\nimport { getStoreDetail,setFilterStoreItems} from '../../reducers/storeSlice'\nimport  \"../../styles/store-detail.css\";\nimport { badgesColor, badgesText } from '../../Helper/helper';\nimport { getAllOrderCharge, manageCartData, placeOrder } from '../../reducers/mainSlice'\nimport QuantityBtn from '../../components/quantityBtn';\nimport Cart from '../../components/Model/Cart';\nimport RemoveItem from '../../components/Model/RemoveItem';\nimport PosUserComponent from \"../../components/searchPOSuser/posUserComponent\"\n\nconst index = () => {\n  const dispatch = useDispatch()\n\n  const storeItems = useSelector(state => state.storeSlice.storeItems)\n  const storeDetail = useSelector(state => state.storeSlice.storeDetail)\n  const cart = useSelector(state => state.mainSlice.cart)\n  const allCharges = useSelector(state => state.mainSlice.charge)\n  const apiFail = useSelector(state=>state.mainSlice.failed)\n  const apiSuccess = useSelector(state=>state.mainSlice.success)\n\n  const [transectionIdPOS, setTransectionIdPOS] = useState(null)\n  const [transectionIdError, setTransectionIdError] = useState(false)\n  const [isReset, setIsReset] = useState(false)\n  const [selectUser, setSelectUser] = useState(null)\n  const [tip, setTip] = useState(0)\n  const [itemId, setItemId] = useState(null);\n  const [cartItem, setCartItem] = useState(null);\n  const [cartModal, setCartModal] = useState(false);\n  const [selectedCat, setSelectedCat] = useState(null);\n  const [cartRemoveModal, setCartRemoveModal] = useState(false);\n  const [selectedCatTitle, setSelectedCatTitle] = useState('');\n  const [paymentMode, setPaymentMode] = useState(0) // 0 => COD, 1 => wallet, 2 => other\n  const [bannerImage, setBannerImage] = useState(\n    {\n      main:[process.env.BASE_URL+'/images/placeholder-banner.png'],\n      other:[]\n    }\n  )\n  const [storeTiming, setStoreTiming] = useState(\n    {\n      open:'0.00',\n      close:'0.00'\n    }\n  )\n\n  const [charge, setCharge] = useState({\n    subTotal:0.00,\n    discount:0.00,\n    taxCharge:0.00,\n    grandTotal:0.00\n  })\n\n  // start cart function =========\n\n    const addItemToCart = (item) => {\n      let cart = localStorage.getItem('cart')?JSON.parse(localStorage.getItem('cart')):{\n          orderItems:{},\n          storeId:storeDetail?.data?._id,\n          totalQuantity:0,\n          totalAmount:0.00,\n      }\n      let itemPrice = Number(item.price)\n      let latestGroup = cart.orderItems[item._id]?cart.orderItems[item._id].latestGroup : []\n      let selectedGroup = cart.orderItems[item._id]?cart.orderItems[item._id].selectedGroup : {}\n      /* Find and create a selected group start */\n          let selectedGroupRaw=[]\n          let groupKey=item._id\n          selectedGroup[groupKey]={\n              group:selectedGroupRaw,\n              quantity:selectedGroup[groupKey]?selectedGroup[groupKey].quantity+1:1,\n              price:selectedGroup[groupKey]?selectedGroup[groupKey].price+itemPrice:itemPrice\n          }\n          latestGroup=selectedGroupRaw\n      /* Find and create a selected group end */\n      /* set cart data to a spacific format start*/   \n          cart.orderItems[item._id]= {\n              menuitem:item,\n              selectedGroup:selectedGroup,\n              latestGroup:latestGroup,\n              itemQuantity:cart.orderItems[item._id]?cart.orderItems[item._id].itemQuantity+1:1,\n              itemPrice:cart.orderItems[item._id]?cart.orderItems[item._id].itemPrice+itemPrice:itemPrice\n          }\n          if (!cart.storeId) {\n            cart.storeId = storeDetail?.data?._id\n          }\n          cart.totalQuantity+=1\n          cart.totalAmount+=itemPrice\n          localStorage.setItem('cart',JSON.stringify(cart))\n          dispatch(manageCartData())\n      /* set cart data to a spacific format end*/\n    }\n\n    const cartToggle = (e) => {\n      let selectItem = null\n      if (e !== undefined) {      \n        let item = e.currentTarget.getAttribute('item')\n        selectItem = storeItems.doc.find( data => data._id == item )\n      }\n      if (selectItem!=undefined) {\n        if (cart.storeDetail?.data?._id && storeId!=cart.storeDetail?.data?._id) {\n          Swal.fire({\n            icon: 'info',\n            html:`Your cart has existing items from other store. Do you want to clear it and add items from ${storeDetail.data?storeDetail.data.title:''}?`,\n            showCancelButton: true,\n            confirmButtonText: 'Yes',\n            scrollbarPadding:false,\n            closeOnConfirm: true,\n            customClass:{\n              actions:'cartConfirmAction',\n              confirmButton: 'ageInfoBtn',\n              cancelButton: 'ageInfoBtn',\n              htmlContainer:'ageInfoHtmlContainer',\n              title:\"cartConfirnHeader\"\n          }}).then(result=>{\n              if (result.isConfirmed) {\n                  localStorage.removeItem('cart')\n                  dispatch(manageCartData())\n                  if (selectItem.age_res) {\n                    Swal.fire({\n                      icon: 'info',\n                      html:`You mush be of 18+ age for ordering this product.<br>Are you 18 or above?`,\n                      showCancelButton: true,\n                      confirmButtonText: 'Yes',\n                      scrollbarPadding:false,\n                      closeOnConfirm: true,\n                      customClass:{\n                        actions:'cartConfirmAction',\n                        confirmButton: 'ageInfoBtn',\n                        cancelButton: 'ageInfoBtn',\n                        htmlContainer:'ageInfoHtmlContainer',\n                        title:\"cartConfirnHeader\"\n                    }}).then(result=>{\n                        if (result.isConfirmed) {\n                          if (selectItem.is_customize) {\n                            setCartItem(selectItem)\n                            setCartModal(!cartModal)\n                          }else{\n                            addItemToCart(selectItem)\n                          }\n                        }\n                    })\n                  }else{\n                    if (selectItem.is_customize) {\n                      setCartItem(selectItem)\n                      setCartModal(!cartModal)\n                    }else{\n                      addItemToCart(selectItem)\n                    }\n                  }\n              }\n          })\n        }else{\n          if (selectItem.age_res) {\n            Swal.fire({\n              icon: 'info',\n              html:`You mush be of 18+ age for ordering this product.<br>Are you 18 or above?`,\n              showCancelButton: true,\n              confirmButtonText: 'Yes',\n              scrollbarPadding:false,\n              closeOnConfirm: true,\n              customClass:{\n                actions:'cartConfirmAction',\n                confirmButton: 'ageInfoBtn',\n                cancelButton: 'ageInfoBtn',\n                htmlContainer:'ageInfoHtmlContainer',\n                title:\"cartConfirnHeader\"\n            }}).then(result=>{\n                if (result.isConfirmed) {\n                  if (selectItem.is_customize) {\n                    setCartItem(selectItem)\n                    setCartModal(!cartModal)\n                  }else{\n                    addItemToCart(selectItem)\n                  }\n                }\n            })\n          }else{\n            if (selectItem.is_customize) {\n              setCartItem(selectItem)\n              setCartModal(!cartModal)\n            }else{\n              addItemToCart(selectItem)\n            }\n          }\n        }\n      }else{\n        setCartItem(null)\n        setCartModal(!cartModal)\n      }\n    }\n\n    const cartRemoveToggle=()=>{\n      setItemId(null)\n      setCartRemoveModal(!cartRemoveModal)\n    }\n\n    const getSelectedCat = (value) => {\n      let tempCat = storeDetail.data.filter.find( list => list._id == value )\n      // Nprogress.start()\n      dispatch(setFilterStoreItems({catId:value}))\n      setSelectedCat(tempCat._id)\n      setSelectedCatTitle(tempCat.title)\n      console.log(\"template\", tempCat);\n    }\n\n    const getQuantity = (data) =>{\n      if (data.newPopUp) {\n        let selectItem = storeItems.doc.find(list => list._id == data.itemId)\n        setCartItem(selectItem!=undefined?selectItem:null)\n        setCartModal(!cartModal)\n      }else if(data.removePopUp) {\n        setItemId(data.itemId)\n        setCartRemoveModal(!cartRemoveModal)\n      }\n    }\n\n    const calculateDefaultPrice = (data) =>{\n      let price = Number(data.price)\n      /* get and calulate none dependent price start */\n        let noneDepCus = data.customize.filter(temp=>!temp.is_dependent)\n        noneDepCus.map(tempCus=>{\n          tempCus.variants.map(tempVar=>{\n            if (tempVar.isDefault) {\n              price+=Number(tempVar.price)\n            }\n          })\n        })\n      /* get and calulate none dependent price end */\n      /* get and calulate dependent price start */\n      let depCus = data.customize.filter(temp=>temp.is_dependent)\n        depCus.map(tempCus=>{\n          let dependentCustome = data.customize.find(dataCus=>dataCus._id==tempCus.dependent_with)\n          let defaultSelectedVarID = dependentCustome.variants.find(defVar=>defVar.isDefault==true)\n          if (defaultSelectedVarID != undefined) {\n              tempCus.variants.map(tempVar=>{\n                if (tempVar.isDefault) {\n                  let temPrice = tempVar.dependent_price.find(temp=>temp.varientId == defaultSelectedVarID._id)\n                  if (temPrice != undefined ) {\n                    price+=Number(temPrice.price)\n                  }  \n                }\n              })\n          }\n        })\n      /* get and calulate dependent price end */\n      return price\n    }\n\n  // end cart function =========\n\n  // add to cart start **************\n\n    const getCustomeTypeToString = (data) => {\n      console.log(\"data\", data)\n      let returnString =''\n        data.map(cus => {\n          returnString += cus.title + '|'\n          cus.variants.map( vare => {\n              returnString += vare.title + ','\n          })\n        })\n      return returnString\n    }   \n    \n  // add to cart end **************\n\n  // all charges or calculation start ============= \n\n    const tipChange = (e) => {\n      if (e.target.value.match(/^[0-9]*$/) && e.target.value!= '') {\n        setTip(e.target.value)\n      }else{\n        setTip(0)\n      }\n    }\n\n    const submitOrder= async ()=>{\n      if (true) {\n        // nProgress.start()\n        let orderProduct = []\n        Object.keys(cart.orderItems).map(list=>{\n          Object.keys(cart.orderItems[list]['selectedGroup']).map(group=>{\n            /* manage customize's and varient's */\n            let customize = []\n            cart.orderItems[list]['selectedGroup'][group]['group'].map(cus=>{\n              /* set Customize varients */\n              let customizeVarient = []\n              cus.variants.map(ver=>{\n                customizeVarient.push({\n                  id:ver._id,\n                  title:ver.title\n                })\n              })\n              customize.push({\n                id:cus._id,\n                title:cus.title,\n                variants:customizeVarient\n              })\n            })\n            orderProduct.push({\n              id:cart.orderItems[list].menuitem._id,\n              title:cart.orderItems[list].menuitem.title,\n              age_res:cart.orderItems[list].menuitem.age_res,\n              customize:customize,\n              quantity:cart.orderItems[list]['selectedGroup'][group].quantity,\n              price:cart.orderItems[list]['selectedGroup'][group].price\n            })\n          })\n        })\n\n        let finalOrderSumery = {\n          userId:selectUser?.key,\n          storeId:storeDetail ? storeDetail?.data?._id : \"\",\n          paymentMode:paymentMode ? paymentMode : 0,\n          deliveryAddress:storeDetail ? storeDetail?.data?.location : {},\n          pickupData:[],\n          type:1,\n          orderType:1,\n          totalQuantity:cart.totalQuantity,\n          totalMrp:cart.totalAmount,\n          servicePrice:0.00,\n          discountPrice:charge.discount,\n          deliveryPrice:0.00,\n          totalPrice:charge.grandTotal - tip,\n          taxCharge:charge.taxCharge,\n          tip:tip ? tip : 0,\n          comment:\"\",\n          product:orderProduct,\n          paymentStatus:1,\n          status:1,\n          transectionIdPOS:transectionIdPOS\n        }\n        setIsReset(true)\n        setTransectionIdPOS(\"\")\n        setPaymentMode(0)\n        dispatch(placeOrder(finalOrderSumery))\n        console.log(\"finalOrderSumery obj\", finalOrderSumery);\n      }\n    }\n\n    const calculateCharges = () => {\n      let tempTaxCharge = 0.00;\n      let tempServiceCharge = 0.00;\n      let tempDiscountCharge = 0.00;\n      if (Object.keys(cart.orderItems).length==0 && localStorage.getItem('cart') && Object.keys(JSON.parse(localStorage.getItem('cart')).orderItems).length!=0 ) {\n          dispatch(manageCartData())\n      }\n      if(cart.storeId && storeDetail.isLoading){\n        dispatch(getStoreDetail({storeId:cart.storeId}))\n      }\n      if (Object.keys(charge).length!=0) {\n        // celculate service charge\n        tempServiceCharge = (cart.totalAmount * allCharges.serviceFee)/100\n        if (tempServiceCharge > allCharges.maxServiceFee) {\n          tempServiceCharge = allCharges.maxServiceFee\n        } \n        // calculate tax\n        // if (allCharges.taxPay != 0) {\n        //   tempTaxCharge = (cart.totalAmount * allCharges.taxPay)/100\n        // }\n\n        // calculate discount price\n        if(!storeDetail.isLoading && \n            Object.keys(storeDetail.data.discount).length!=0 && \n            (\n              (\n                storeDetail.data.discount.discountType==0 && \n                storeDetail.data.discount.discountValue > 0\n              ) \n              || \n              (\n                storeDetail.data.discount.discountType==1 && \n                storeDetail.data.discount.maxDiscount > 0\n              )\n            )\n        ) {\n          tempDiscountCharge = storeDetail.data.discount.maxDiscount\n          if (storeDetail.data.discount.discountType==0) {\n            tempDiscountCharge = (cart.totalAmount * storeDetail.data.discount.discountValue)/100\n            if (storeDetail.data.discount.maxDiscount > 0 && tempDiscountCharge > storeDetail.data.discount.maxDiscount) {\n              tempDiscountCharge = storeDetail.data.discount.maxDiscount\n            }  \n          }\n        }\n      }\n     \n      setCharge({\n        grandTotal:Number(( ( cart.totalAmount + Number(tip) + tempTaxCharge ) - tempDiscountCharge).toFixed(2) ),  //remove tex charges after number(tip)  + tempTaxCharge\n        discount:Number(tempDiscountCharge.toFixed(2)),\n        // serviceCharge:tempServiceCharge.toFixed(2),\n        taxCharge:Number(tempTaxCharge.toFixed(2)),\n        subTotal:Number((cart.totalAmount).toFixed(2))\n      })  \n    }\n\n    const clearCartData = (e) => {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't to Delete this order!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          let cart = {\n            orderItems:{},\n            orderType:0,\n            storeId:null,\n            totalQuantity:0,\n            totalAmount:0.00\n          }\n          localStorage.setItem('cart',JSON.stringify(cart))\n          dispatch(manageCartData())\n          setTransectionIdPOS(\"\")\n          setPaymentMode(0)\n          setIsReset(true)\n        }\n      })\n    }\n   \n    const confirmOrder = () => {\n        if (selectUser === null) {\n          Swal.fire('Please select user')\n        }else if((paymentMode === 1 || paymentMode === 2) && !transectionIdPOS){\n          setTransectionIdError(true)\n        }else{\n          Swal.fire({\n            title: 'Are you sure?',\n            text: \"You won't to complete this Order!\",\n            icon: 'info',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes, confirmed Order!'\n          }).then((result) => {\n            if (result.isConfirmed) {\n              Swal.fire(\n                'Submit!',\n                'Your Order has been submited.',\n                'success'\n              ).then((result) => {\n                if (result) {\n                  submitOrder()\n                }\n              })\n            }\n          })\n        }\n    }\n\n    const handelPOSUser = (data) => {\n      setSelectUser(data)\n    }\n\n    const handelisReset = (data) => {\n      setIsReset(false)\n    }\n\n  // all charges or calculation end ============= \n\n  //  effects start *****************\n\n      useEffect(() => {\n          dispatch(getAllOrderCharge())\n          dispatch(getStoreDetail())\n      }, [])\n  \n      // add to cart effect \n      useEffect(() => {\n        if (!storeDetail.isLoading && storeDetail.data) {\n          /* set banner image start */\n            let mainImg = storeDetail.data.store_image.find(data=>{\n              return data._id== 'main'\n            })\n            if (mainImg !== undefined) {\n              bannerImage.main = mainImg.image \n            }\n            let otherImage = storeDetail.data.store_image.find(data=>{\n              return data._id== 'other'\n            })\n            if (otherImage !== undefined) {\n              bannerImage.other = otherImage.image\n            }\n            setBannerImage({...bannerImage})\n          /* set banner image end */\n          /* set timing start */\n            if (storeDetail.data.timing && 'time_data' in storeDetail.data.timing) {\n              storeTiming.open =  storeDetail.data.timing.time_data.open!= ''?storeDetail.data.timing.time_data.open:'0.00'\n              storeTiming.close = storeDetail.data.timing.time_data.close!=''?storeDetail.data.timing.time_data.close:'0.00'\n              setStoreTiming({...storeTiming})\n            }\n          /* set timing end */\n          nProgress.done()\n        }\n      }, [storeDetail])\n\n      // selected product price calulation\n      useEffect(() => {\n        calculateCharges()\n      }, [tip,cart,storeItems])\n\n      // after submit order clear page \n      useEffect(() => {\n        if (apiFail) {\n          if(apiFail.statusCode >= 400 && apiFail.statusCode <= 500){\n              nProgress.done()\n              dispatch(unSetApiFail())\n              alert(apiFail.message)\n          }\n        }\n        if(apiSuccess){\n          if(apiSuccess.statusCode >= 200 && apiSuccess.statusCode <= 300){\n            nProgress.done()\n            dispatch(unSetApiSucc())\n            let cart = {\n              orderItems:{},\n              orderType:0,\n              storeId:null,\n              totalQuantity:0,\n              totalAmount:0.00\n            }\n            localStorage.setItem('cart',JSON.stringify(cart))\n            dispatch(manageCartData())\n          }\n        }\n      }, [apiFail,apiSuccess]);\n\n  //  effects end *****************\n  return (\n    <>\n        <UserHeader/>\n        <Container className=\"mt--7\" fluid>\n          <Row>\n              <Col className=\"order-xl-1\" xl='12' lg=\"12\" sm=\"12\">\n                  <Card className=\"bg-secondary shadow\">\n                      <CardHeader className=\"bg-white border-0\">\n                        <Row className=\"align-items-center\">\n                            <Col xs=\"8\">\n                              <h3 className=\"mb-0\">POS</h3>\n                            </Col>\n                        </Row>\n                      </CardHeader>\n                      <CardBody>\n                        {\n                           storeDetail?.data?.assignPOS === 1 \n                           ? <>\n                            <Row>\n                              <Col xl=\"12\">\n                                <h4>Select Category</h4>\n                                <DetailsSidebar\n                                  filter={storeDetail.data?storeDetail.data.filter:[]}\n                                  getSelectedCat={getSelectedCat}\n                                />   \n                              </Col>\n                            </Row>\n                            <Row className=\"mt-5\">\n                              <Col xl=\"8\" lg=\"12\" md=\"12\" sm=\"12\" className='mb-3'>\n                                <div className='storeCards'>\n                                    {storeItems.doc.map( (list) => (\n                                      <div key={list._id} className={`itemStoreCard ${ list?.status === false ? \"dissabledStoritem\" : \"\"}`}>\n                                          <div className={`imageBlock`} \n                                            style={{backgroundImage: `url('${list.image}')`,width:\"100%\", height:\"118px\",backgroundRepeat:\"no-repeat\", backgroundSize:\"cover\"}}>\n                                          </div>\n                                          <div className={`itemInfo`}></div>\n                                          <h6 style={{fontSize:\"14px\"}}>{ list.title  }</h6>\n                                          <span className={`itemPrice`}>\n                                            £{list.is_customize?calculateDefaultPrice(list):list.price}\n                                          </span>\n                                          <br/>\n                                          { \n                                            list?.badge != 0 \n                                              ? <span className=\"itemCardBadge\" \n                                                      style={\n                                                        { \n                                                          background: !list?.status \n                                                            ? \"rgb(191, 191, 191)\" \n                                                            : badgesColor(list.badge) \n                                                        }\n                                                      }>\n                                                    { badgesText( list.badge ) }\n                                                  </span> \n                                              : \"\"\n                                          }\n\n                                          {/* <Col lg=\"2\" sm=\"2\"> */}\n                                            <div className={`addTocartBtnBlock`}>\n                                              { \n                                                list?.status \n                                                  ? cart && cart.orderItems[list._id]\n                                                    ? (list.is_customize)\n                                                      ? <QuantityBtn\n                                                          defvalue={cart.orderItems[list._id].itemQuantity}\n                                                          askCus={true}\n                                                          itemId={list._id}\n                                                          getQuantity={getQuantity}\n                                                        />  \n                                                      : <QuantityBtn\n                                                          defvalue={cart.orderItems[list._id].itemQuantity}\n                                                          grpCus={true}\n                                                          groupId={list._id}\n                                                          itemId={list._id}\n                                                          getQuantity={()=>{ }}\n                                                          />\n                                                    : <div role=\"button\" onClick={cartToggle} item={list._id}><a  >Add</a></div>\n                                                  : \"\"\n                                              }\n                                              {/* {\n                                                list.is_customize\n                                                  ? <span className={`addBtnBlockSpan`}>Customizable</span>\n                                                  : \"\"\n                                              } */}\n                                            </div>\n                                          {/* </Col> */}\n                                      </div>\n                                    ))}\n                                </div>\n                              </Col>\n                              <Col xl=\"4\" lg=\"12\" md=\"12\" sm=\"12\" className='leftcarCalculationtBox'>\n                                  <div className='topUserManageBox'>\n                                    <span className='selectUserBtn'>\n                                      <PosUserComponent\n                                        handelPOSUser={handelPOSUser}\n                                        isReset={isReset}\n                                        handelisReset={handelisReset}\n                                      />\n                                    </span>\n                                  </div>\n                                  { \n                                    Object.keys(cart.orderItems).length > 0 \n                                      ? \n                                        <div className=\"cartBlock\">\n                                            {\n                                              Object.keys(cart.orderItems).map( list => ( \n                                                Object.keys(cart.orderItems[list].selectedGroup).map( group => (\n                                                    <div className=\"cartbody\" key={group}>\n                                                        <div className=\"cartImg\">\n                                                            <img src={cart.orderItems[list].menuitem.image} alt=\"Cart\" />\n                                                        </div>\n                                                        <div className=\"cartContent\">\n                                                          <div className='titlePriceBox'>\n                                                            <p className='cartItemname'>{cart.orderItems[list].menuitem.title}</p>\n                                                            <span className=\"cartItemPrice\">£{cart.orderItems[list].selectedGroup[group].price}</span>  \n                                                          </div>\n                                                            <span style={{fontSize:\"12px\"}}>{getCustomeTypeToString(cart.orderItems[list].selectedGroup[group].group)} </span>\n                                                            <div className=\"AddToCartBtn\">\n                                                                <QuantityBtn\n                                                                    defvalue={cart.orderItems[list].selectedGroup[group].quantity}\n                                                                    grpCus={true}\n                                                                    groupId={group}\n                                                                    itemId={list}\n                                                                    getQuantity={()=>{ }}\n                                                                />\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                ))\n                                              ))\n                                            }\n                                        </div>\n                                      : \"\"\n                                    }\n\n                                  <div className={`subtotal`}>\n                                    <div className='valculationBox'>\n                                      <ul>\n                                        <li>\n                                          <span>\n                                              Subtotal\n                                          </span> \n                                          <span> \n                                            £ {charge.subTotal}\n                                          </span>\n                                        </li>\n                                        <li>\n                                          <span>\n                                            Discount\n                                          </span> \n                                          <span>\n                                            £ {charge?.discount}\n                                          </span>\n                                        </li>\n                                        {/* <li>\n                                          <span>\n                                              Tax and Charges\n                                          </span> \n                                          <span>\n                                            £ {charge?.taxCharge}\n                                          </span>\n                                        </li> */}\n                                      </ul>\n                                    </div>\n\n                                    <div className='finalAmountBox'>\n                                        <span>\n                                            Grand Total  \n                                        </span> \n                                        <span>\n                                          £ {charge.grandTotal}\n                                        </span>\n                                    </div>\n\n                                    {/* payment mode  */}\n                                    <section className='containerBox'>\n                                      <div className='selector'>\n                                        <div className='selecotr-item'>\n                                          <Input \n                                            type=\"radio\" \n                                            id=\"huey\" \n                                            name=\"drone\" \n                                            value=\"0\"\n                                            checked={paymentMode === 0}\n                                            onChange={(e) => setPaymentMode(0)} \n                                            className=\"selector-item_radio\"\n                                          /> \n                                          <label for=\"huey\" className='selector-item_label'>Cash</label>\n                                        </div>\n                                        <div className='selecotr-item'>\n                                          <Input \n                                            type=\"radio\" \n                                            id=\"dewey\" \n                                            name=\"drone\" \n                                            value=\"1\"\n                                            checked={paymentMode === 1}\n                                            onChange={(e) => setPaymentMode(1)} \n                                            className=\"selector-item_radio\"\n                                          /> \n                                          <label for=\"dewey\" className='selector-item_label'>Wallet</label>\n                                        </div>\n                                        <div className='selecotr-item'>\n                                          <Input \n                                            type=\"radio\" \n                                            id=\"louie\" \n                                            name=\"drone\" \n                                            value=\"2\"\n                                            checked={paymentMode === 2}\n                                            onChange={(e) => setPaymentMode(2)} \n                                            className=\"selector-item_radio\"\n                                          /> \n                                          <label for=\"louie\" className='selector-item_label'>Card</label>\n                                        </div>\n                                      </div>\n                                    {\n                                      paymentMode !== 0 \n                                      ?\n                                        <div>\n                                          <label for=\"louie\" className='selector-item_label'>Transection ID</label>   \n                                          <Input \n                                              type=\"text\" \n                                              id=\"transectionIdPOS\" \n                                              name=\"transectionIdPOS\" \n                                              value={transectionIdPOS}\n                                              onChange={(e) => setTransectionIdPOS(e.target.value)} \n                                              className=\"selector-item_radio\"\n                                          /> \n                                          {transectionIdError && !transectionIdPOS && <label style={{color:\"red\"}}>Transection ID is required</label>}\n                                        </div>\n                                      : \"\"\n                                    }\n                                    </section>\n                                  \n                                    <div className={`bottumBtnBox`}>\n                                        <Button onClick={confirmOrder}\n                                            disabled={Object.keys(cart.orderItems).length > 0 ? false : true}\n                                            type=\"button\"\n                                            color=\"success\"\n                                            >\n                                            Submit Order\n                                        </Button>\n                                        <Button onClick={clearCartData}\n                                            disabled={Object.keys(cart.orderItems).length > 0 ? false : true}\n                                            type=\"button\"\n                                            color=\"danger\"\n                                            >\n                                            Clear Cart\n                                        </Button>\n                                    </div>\n                                  </div>\n                              </Col>\n                            </Row>\n                          </>\n                           : <div style={{textAlign:\"center\"}} >contact to admin for POS activation</div>\n                        }\n                      </CardBody>\n                  </Card>\n              </Col>\n          </Row>\n        </Container>\n\n        {/* model section start */}\n          <Cart\n            isOpen={cartModal}\n            toggle={cartToggle}\n            item={cartItem}\n            storeId={storeDetail?.data?._id}\n          />\n          {/* item remove model */}\n          <RemoveItem\n            isOpen={cartRemoveModal}\n            toggle={cartRemoveToggle}\n            itemId={itemId}\n            storeId={storeDetail?.data?._id}\n          />\n        {/* model section end */}      \n    </>\n  )\n}\n\nindex.layout = Vendor\nexport default index  "]},"metadata":{},"sourceType":"module"}