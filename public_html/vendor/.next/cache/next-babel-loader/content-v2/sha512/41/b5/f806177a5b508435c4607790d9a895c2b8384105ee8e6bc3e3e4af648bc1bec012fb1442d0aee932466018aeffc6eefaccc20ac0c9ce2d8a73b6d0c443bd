{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/var/www/domains/oxens.ezxdemo.com/public_html/vendor/pages/discount/index.js\";\nimport Vendor from \"layouts/Vendor\";\nimport UserHeader from \"components/Headers/UserHeader\";\nimport { Button, Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Row } from \"reactstrap\";\nimport { Formik } from \"formik\";\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport InputCom from '../../components/Form/InputCom';\nimport FromSelect from '../../components/Form/FromSelect';\nimport { useEffect, useState } from \"react\";\nimport { getDiscount, updateDiscount } from \"../../reducers/discountSlice\";\nimport { unSetApiSucc, unSetApiFail } from \"reducers/mainSlice\";\nimport nProgress from \"nprogress\";\nimport { toast } from \"react-toastify\";\n\nfunction Index() {\n  const dispatch = useDispatch();\n  const discountData = useSelector(state => state.discountSlice.list);\n  const apiError = useSelector(state => state.mainSlice.failed);\n  const apiSuccess = useSelector(state => state.mainSlice.success);\n  const validationSchema = Yup.object().shape({\n    discountType: Yup.number().required('Discount Type is required'),\n    discountValue: Yup.number().when('discountType', {\n      is: 0,\n      then: Yup.number().typeError('Discount must be a number').required('Discount is required').positive('Discount must be positive number').integer('Discount must be integer number')\n    }),\n    maxDiscount: Yup.number().typeError('Max Discount must be a number').required('Max Discount is required').positive('Max Discount must be positive number')\n  });\n\n  const formSubmitHandal = formData => {\n    nProgress.start();\n    dispatch(updateDiscount(formData));\n  };\n\n  useEffect(() => {\n    dispatch(getDiscount());\n  }, []);\n  useEffect(() => {\n    if (apiSuccess) {\n      if (apiSuccess.statusCode >= 200 && apiSuccess.statusCode < 300) {\n        toast(apiSuccess.message, {\n          type: 'success',\n          toastId: 12\n        });\n        dispatch(unSetApiSucc());\n        nProgress.done();\n      }\n    }\n\n    if (apiError) {\n      if (apiError.statusCode >= 400 && apiError.statusCode <= 500) {\n        toast(apiError.message, {\n          type: 'error',\n          toastId: 12\n        });\n        dispatch(unSetApiFail());\n        nProgress.done();\n      }\n    }\n  }, [apiSuccess, apiError]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(UserHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt--7\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"order-xl-1\",\n          xl: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"bg-secondary shadow\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"bg-white border-0\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  xs: \"8\",\n                  children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"mb-0\",\n                    children: \"Discount Manager\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n              children: /*#__PURE__*/_jsxDEV(Formik, {\n                enableReinitialize: true,\n                initialValues: discountData,\n                validationSchema: validationSchema,\n                validateOnChange: false,\n                validateOnBlur: false,\n                onSubmit: values => formSubmitHandal(values),\n                children: formikProps => /*#__PURE__*/_jsxDEV(Form, {\n                  onSubmit: formikProps.handleSubmit,\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      xl: \"12\",\n                      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-control-label\",\n                          children: \"Discount Type\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 85,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(FromSelect, {\n                          name: \"discountType\",\n                          id: \"discountType\",\n                          options: [{\n                            value: \"0\",\n                            label: \"Percentage\"\n                          }, {\n                            value: \"1\",\n                            label: \"Fixed\"\n                          }],\n                          isDefault: false,\n                          isMulti: false,\n                          getValue: formikProps.setFieldValue,\n                          defValue: formikProps.values.discountType.toString() || '',\n                          error: formikProps.errors.discountType\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 90,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      xl: \"6\",\n                      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-control-label\",\n                          children: \"Discount (%)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(InputCom, {\n                          type: \"text\",\n                          name: \"discountValue\",\n                          isDefault: formikProps.values.discountType == 1 ? true : false,\n                          placeholder: \"Enter Title\",\n                          getValue: formikProps.setFieldValue,\n                          defValue: formikProps.values.discountValue,\n                          error: formikProps.errors.discountValue\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 118,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      xl: \"6\",\n                      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-control-label\",\n                          children: \"Max Discount Price (\\xA3)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 131,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(InputCom, {\n                          type: \"text\",\n                          name: \"maxDiscount\",\n                          placeholder: \"Enter max discount\",\n                          getValue: formikProps.setFieldValue,\n                          defValue: formikProps.values.maxDiscount,\n                          error: formikProps.errors.maxDiscount\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 136,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      lg: \"12\",\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"float-right\",\n                        color: \"primary\",\n                        type: \"submit\",\n                        children: \"Save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\nIndex.layout = Vendor;\nexport default Index;","map":{"version":3,"sources":["/var/www/domains/oxens.ezxdemo.com/public_html/vendor/pages/discount/index.js"],"names":["Vendor","UserHeader","Button","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Row","Formik","Yup","useDispatch","useSelector","InputCom","FromSelect","useEffect","useState","getDiscount","updateDiscount","unSetApiSucc","unSetApiFail","nProgress","toast","Index","dispatch","discountData","state","discountSlice","list","apiError","mainSlice","failed","apiSuccess","success","validationSchema","object","shape","discountType","number","required","discountValue","when","is","then","typeError","positive","integer","maxDiscount","formSubmitHandal","formData","start","statusCode","message","type","toastId","done","values","formikProps","handleSubmit","value","label","setFieldValue","toString","errors","layout"],"mappings":"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","sourcesContent":["import Vendor from \"layouts/Vendor\";\nimport UserHeader from \"components/Headers/UserHeader\";\nimport { Button, Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Row } from \"reactstrap\";\nimport { Formik } from \"formik\";\nimport * as Yup from 'yup'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport InputCom from '../../components/Form/InputCom'\nimport FromSelect from '../../components/Form/FromSelect'\nimport { useEffect, useState } from \"react\";\nimport { getDiscount, updateDiscount } from \"../../reducers/discountSlice\";\nimport { unSetApiSucc,unSetApiFail } from \"reducers/mainSlice\";\nimport nProgress from \"nprogress\";\nimport { toast } from \"react-toastify\";\nfunction Index() {\n    const dispatch = useDispatch()\n    const discountData = useSelector(state=>state.discountSlice.list)\n    const apiError = useSelector(state=> state.mainSlice.failed)\n    const apiSuccess = useSelector(state=> state.mainSlice.success)\n    const validationSchema = Yup.object().shape({\n        discountType: Yup.number().required('Discount Type is required'),\n        discountValue:Yup.number().when('discountType',{\n                is:0,\n                then: Yup.number().typeError('Discount must be a number').required('Discount is required').positive('Discount must be positive number').integer('Discount must be integer number')\n        }),\n        maxDiscount:Yup.number().typeError('Max Discount must be a number').required('Max Discount is required').positive('Max Discount must be positive number')\n    })\n    const formSubmitHandal = (formData) =>{\n        nProgress.start()\n        dispatch(updateDiscount(formData))\n    }\n    useEffect(()=>{\n        dispatch(getDiscount())\n    },[])\n    useEffect(() => {\n        if (apiSuccess) {\n            if(apiSuccess.statusCode >= 200 && apiSuccess.statusCode < 300){\n                toast(apiSuccess.message,{\n                    type:'success',\n                    toastId: 12\n                });\n                dispatch(unSetApiSucc())\n                nProgress.done()\n            }\n        }\n        if (apiError) {\n            if(apiError.statusCode >= 400 && apiError.statusCode <= 500){\n                toast(apiError.message,{\n                    type:'error',\n                    toastId: 12\n                });\n                dispatch(unSetApiFail())\n                nProgress.done()\n            }\n        }\n    }, [apiSuccess,apiError])\n\n    return (\n        <>\n            <UserHeader/>\n            <Container className=\"mt--7\" fluid>\n                <Row>\n                    <Col className=\"order-xl-1\" xl='12'>\n                        <Card className=\"bg-secondary shadow\">\n                            <CardHeader className=\"bg-white border-0\">\n                                <Row className=\"align-items-center\">\n                                <Col xs=\"8\">\n                                    <h3 className=\"mb-0\">Discount Manager</h3>\n                                </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Formik\n                                    enableReinitialize\n                                    initialValues={discountData}\n                                    validationSchema={validationSchema}\n                                    validateOnChange={false}\n                                    validateOnBlur={false}\n                                    onSubmit={ values =>formSubmitHandal(values)}\n                                >\n                                {(formikProps)=>(\n                                    <Form onSubmit={formikProps.handleSubmit}>\n                                        <Row>\n                                        <Col xl=\"12\">\n                                            <FormGroup>\n                                                <label\n                                                    className=\"form-control-label\"\n                                                >\n                                                    Discount Type\n                                                </label>\n                                                <FromSelect\n                                                    name=\"discountType\"\n                                                    id=\"discountType\"\n                                                    options={[\n                                                        {\n                                                            value:\"0\",\n                                                            label:\"Percentage\"\n                                                        },\n                                                        {\n                                                            value:\"1\",\n                                                            label:\"Fixed\"\n                                                        },\n                                                    ]}\n                                                    isDefault={false}\n                                                    isMulti={false}\n                                                    getValue={formikProps.setFieldValue}\n                                                    defValue={formikProps.values.discountType.toString()||''}\n                                                    error={formikProps.errors.discountType}\n                                                />\n                                            </FormGroup>\n                                        </Col>\n                                        <Col xl=\"6\">\n                                            <FormGroup>\n                                                <label\n                                                    className=\"form-control-label\"\n                                                >\n                                                    Discount (%)\n                                                </label>\n                                                <InputCom\n                                                    type=\"text\"\n                                                    name=\"discountValue\"\n                                                    isDefault={formikProps.values.discountType==1?true:false}\n                                                    placeholder=\"Enter Title\"\n                                                    getValue={formikProps.setFieldValue}\n                                                    defValue={formikProps.values.discountValue}\n                                                    error={formikProps.errors.discountValue}\n                                                />\n                                            </FormGroup>\n                                        </Col>\n                                        <Col xl=\"6\">\n                                            <FormGroup>\n                                                <label\n                                                    className=\"form-control-label\"\n                                                >\n                                                    Max Discount Price (£)\n                                                </label>\n                                                <InputCom\n                                                    type=\"text\"\n                                                    name=\"maxDiscount\"\n                                                    placeholder=\"Enter max discount\"\n                                                    getValue={formikProps.setFieldValue}\n                                                    defValue={formikProps.values.maxDiscount}\n                                                    error={formikProps.errors.maxDiscount}\n                                                />\n                                            </FormGroup>\n                                        </Col>\n                                        <Col lg=\"12\">\n                                            <Button\n                                                className=\"float-right\"\n                                                color=\"primary\"\n                                                type=\"submit\"\n                                            >\n                                                Save\n                                            </Button>\n                                        </Col>\n                                        </Row>\n                                    </Form>\n                                )}\n                                </Formik>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </>\n    )\n}\nIndex.layout = Vendor\nexport default Index"]},"metadata":{},"sourceType":"module"}